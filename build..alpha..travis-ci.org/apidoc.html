<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/antoniogarrote/rdfstore-js#readme"

    >rdfstore (v0.9.17)</a>
</h1>
<h4>RDF graph store supporting the SPARQL query language</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore">module rdfstore</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store">
            function <span class="apidocSignatureSpan">rdfstore.</span>Store
            <span class="apidocSignatureSpan">(arg1, arg2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.connect">
            function <span class="apidocSignatureSpan">rdfstore.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.create">
            function <span class="apidocSignatureSpan">rdfstore.</span>create
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan"></span>rdfstore</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>Store.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>abstract_query_tree</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>btree</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>btree_hash</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>graph_callbacks</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>lexicon</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>lexicon_hash</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>nodeunit</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>parser</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>persistent_lexicon</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>persistent_quad_backend</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>quad_backend</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>quad_index</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>query_engine</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>rdf_loader</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>rdf_model</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.Store">module rdfstore.Store</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.Store">
            function <span class="apidocSignatureSpan">rdfstore.</span>Store
            <span class="apidocSignatureSpan">(arg1, arg2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.yieldFrequency">
            function <span class="apidocSignatureSpan">rdfstore.Store.</span>yieldFrequency
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">rdfstore.Store.</span>VERSION</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.Store.prototype">module rdfstore.Store.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype._nodeToQuery">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>_nodeToQuery
            <span class="apidocSignatureSpan">(term)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.clear">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>clear
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.close">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>close
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.delete">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>delete
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.execute">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>execute
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.executeWithEnvironment">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>executeWithEnvironment
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.getNetworkTransport">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>getNetworkTransport
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.graph">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>graph
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.insert">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>insert
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.load">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>load
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.node">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>node
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.registerCustomFunction">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registerCustomFunction
            <span class="apidocSignatureSpan">(name, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.registerDefaultNamespace">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registerDefaultNamespace
            <span class="apidocSignatureSpan">(ns, prefix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.registerDefaultProfileNamespaces">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registerDefaultProfileNamespaces
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.registerParser">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registerParser
            <span class="apidocSignatureSpan">(mediaType, parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.registeredGraphs">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registeredGraphs
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.setBatchLoadEvents">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>setBatchLoadEvents
            <span class="apidocSignatureSpan">(mustFireEvents)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.setDefaultPrefix">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>setDefaultPrefix
            <span class="apidocSignatureSpan">(uri)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.setNetworkTransport">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>setNetworkTransport
            <span class="apidocSignatureSpan">(networkTransportImpl)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.setPrefix">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>setPrefix
            <span class="apidocSignatureSpan">(prefix, uri)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.startObservingNode">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>startObservingNode
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.startObservingQuery">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>startObservingQuery
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.stopObservingNode">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>stopObservingNode
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.stopObservingQuery">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>stopObservingQuery
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.subscribe">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>subscribe
            <span class="apidocSignatureSpan">(s, p, o, g, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.Store.prototype.unsubscribe">
            function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>unsubscribe
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>rdf</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.abstract_query_tree">module rdfstore.abstract_query_tree</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.abstract_query_tree.AbstractQueryTree">
            function <span class="apidocSignatureSpan">rdfstore.abstract_query_tree.</span>AbstractQueryTree
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.abstract_query_tree.NonSupportedSparqlFeatureError">
            function <span class="apidocSignatureSpan">rdfstore.abstract_query_tree.</span>NonSupportedSparqlFeatureError
            <span class="apidocSignatureSpan">(feature, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.abstract_query_tree.SparqlParserError">
            function <span class="apidocSignatureSpan">rdfstore.abstract_query_tree.</span>SparqlParserError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.btree">module rdfstore.btree</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.btree.Node">
            function <span class="apidocSignatureSpan">rdfstore.btree.</span>Node
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.btree.Tree">
            function <span class="apidocSignatureSpan">rdfstore.btree.</span>Tree
            <span class="apidocSignatureSpan">(order, f)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.btree_hash">module rdfstore.btree_hash</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.btree_hash.Tree">
            function <span class="apidocSignatureSpan">rdfstore.btree_hash.</span>Tree
            <span class="apidocSignatureSpan">(keyFun, f)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.graph_callbacks">module rdfstore.graph_callbacks</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.graph_callbacks.CallbacksBackend">
            function <span class="apidocSignatureSpan">rdfstore.graph_callbacks.</span>CallbacksBackend
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.graph_callbacks.</span>ANYTHING</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">rdfstore.graph_callbacks.</span>added</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">rdfstore.graph_callbacks.</span>deleted</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">rdfstore.graph_callbacks.</span>eventsFlushed</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.lexicon">module rdfstore.lexicon</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.lexicon.Lexicon">
            function <span class="apidocSignatureSpan">rdfstore.lexicon.</span>Lexicon
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.lexicon_hash">module rdfstore.lexicon_hash</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.lexicon_hash.Lexicon">
            function <span class="apidocSignatureSpan">rdfstore.lexicon_hash.</span>Lexicon
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.nodeunit">module rdfstore.nodeunit</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.all">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>all
            <span class="apidocSignatureSpan">(arr, iterator, main_callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.any">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>any
            <span class="apidocSignatureSpan">(arr, iterator, main_callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.apply">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>apply
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.auto">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>auto
            <span class="apidocSignatureSpan">(tasks, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.concat">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>concat
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.concatSeries">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>concatSeries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.detect">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>detect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.detectSeries">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>detectSeries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.dir">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>dir
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.every">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>every
            <span class="apidocSignatureSpan">(arr, iterator, main_callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.filter">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>filter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.filterSeries">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>filterSeries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.foldl">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>foldl
            <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.foldr">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>foldr
            <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.forEach">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>forEach
            <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.forEachSeries">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>forEachSeries
            <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.inject">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>inject
            <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.iterator">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>iterator
            <span class="apidocSignatureSpan">(tasks)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.log">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>log
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.map">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>map
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.mapSeries">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>mapSeries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.memoize">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>memoize
            <span class="apidocSignatureSpan">(fn, hasher)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.nextTick">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>nextTick
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.noConflict">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>noConflict
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.parallel">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>parallel
            <span class="apidocSignatureSpan">(tasks, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.queue">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>queue
            <span class="apidocSignatureSpan">(worker, concurrency)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.reduce">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>reduce
            <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.reduceRight">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>reduceRight
            <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.reject">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>reject
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.rejectSeries">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>rejectSeries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.select">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>select
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.selectSeries">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>selectSeries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.series">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>series
            <span class="apidocSignatureSpan">(tasks, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.some">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>some
            <span class="apidocSignatureSpan">(arr, iterator, main_callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.sortBy">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>sortBy
            <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.until">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>until
            <span class="apidocSignatureSpan">(test, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.waterfall">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>waterfall
            <span class="apidocSignatureSpan">(tasks, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.nodeunit.whilst">
            function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>whilst
            <span class="apidocSignatureSpan">(test, iterator, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.parser">module rdfstore.parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.parser.SyntaxError">
            function <span class="apidocSignatureSpan">rdfstore.parser.</span>SyntaxError
            <span class="apidocSignatureSpan">(message, expected, found, location)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.parser.parse">
            function <span class="apidocSignatureSpan">rdfstore.parser.</span>parse
            <span class="apidocSignatureSpan">(input, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.persistent_lexicon">module rdfstore.persistent_lexicon</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.persistent_lexicon.PersistentLexicon">
            function <span class="apidocSignatureSpan">rdfstore.persistent_lexicon.</span>PersistentLexicon
            <span class="apidocSignatureSpan">(callback, dbName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.persistent_quad_backend">module rdfstore.persistent_quad_backend</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.persistent_quad_backend.PersistentQuadBackend">
            function <span class="apidocSignatureSpan">rdfstore.persistent_quad_backend.</span>PersistentQuadBackend
            <span class="apidocSignatureSpan">(configuration, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.quad_backend">module rdfstore.quad_backend</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.quad_backend.QuadBackend">
            function <span class="apidocSignatureSpan">rdfstore.quad_backend.</span>QuadBackend
            <span class="apidocSignatureSpan">(configuration, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.quad_index">module rdfstore.quad_index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.quad_index.NodeKey">
            function <span class="apidocSignatureSpan">rdfstore.quad_index.</span>NodeKey
            <span class="apidocSignatureSpan">(components, order)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.quad_index.Pattern">
            function <span class="apidocSignatureSpan">rdfstore.quad_index.</span>Pattern
            <span class="apidocSignatureSpan">(components)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.quad_index.QuadIndex">
            function <span class="apidocSignatureSpan">rdfstore.quad_index.</span>QuadIndex
            <span class="apidocSignatureSpan">(params, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.query_engine">module rdfstore.query_engine</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.query_engine.QueryEngine">
            function <span class="apidocSignatureSpan">rdfstore.query_engine.</span>QueryEngine
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.rdf_loader">module rdfstore.rdf_loader</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_loader.RDFLoader">
            function <span class="apidocSignatureSpan">rdfstore.rdf_loader.</span>RDFLoader
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.rdf_model">module rdfstore.rdf_model</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.BlankNode">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>BlankNode
            <span class="apidocSignatureSpan">(bnodeId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.Graph">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>Graph
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.Literal">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>Literal
            <span class="apidocSignatureSpan">(value, language, datatype)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.NamedNode">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>NamedNode
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.Profile">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>Profile
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.RDFEnvironment">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>RDFEnvironment
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.RDFNode">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>RDFNode
            <span class="apidocSignatureSpan">(interfaceName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.Triple">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>Triple
            <span class="apidocSignatureSpan">(subject, predicate, object)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.UrisMap">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>UrisMap
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.buildBlankNode">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>buildBlankNode
            <span class="apidocSignatureSpan">(value, bindings, engine, env)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.buildLiteral">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>buildLiteral
            <span class="apidocSignatureSpan">(value, bindings, engine, env)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.buildNamedNode">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>buildNamedNode
            <span class="apidocSignatureSpan">(value, bindings, engine, env)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdf_model.buildRDFResource">
            function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>buildRDFResource
            <span class="apidocSignatureSpan">(value, bindings, engine, env)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>defaultContext</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>rdf</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.rdfstore">module rdfstore.rdfstore</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdfstore.Store">
            function <span class="apidocSignatureSpan">rdfstore.rdfstore.</span>Store
            <span class="apidocSignatureSpan">(arg1, arg2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdfstore.connect">
            function <span class="apidocSignatureSpan">rdfstore.rdfstore.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.rdfstore.create">
            function <span class="apidocSignatureSpan">rdfstore.rdfstore.</span>create
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rdfstore.utils">module rdfstore.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.clone">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>clone
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.compareDateComponents">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>compareDateComponents
            <span class="apidocSignatureSpan">(stra, strb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.create">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>create
            <span class="apidocSignatureSpan">(prototype)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.each">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>each
            <span class="apidocSignatureSpan">(xs, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.eachParallel">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>eachParallel
            <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.eachSeries">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>eachSeries
            <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.forEach">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>forEach
            <span class="apidocSignatureSpan">(xs, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.guid">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>guid
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.hasTerm">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>hasTerm
            <span class="apidocSignatureSpan">(term)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.hashTerm">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>hashTerm
            <span class="apidocSignatureSpan">(term)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.include">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>include
            <span class="apidocSignatureSpan">(xs, p)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.isWorker">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>isWorker
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.iso8601">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>iso8601
            <span class="apidocSignatureSpan">(date)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.keys">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>keys
            <span class="apidocSignatureSpan">(xs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.lexicalFormBaseUri">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>lexicalFormBaseUri
            <span class="apidocSignatureSpan">(term, env)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.lexicalFormLiteral">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>lexicalFormLiteral
            <span class="apidocSignatureSpan">(term, env)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.map">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>map
            <span class="apidocSignatureSpan">(xs, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.nextTick">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>nextTick
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.normalizeUnicodeLiterals">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>normalizeUnicodeLiterals
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.parseISO8601">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>parseISO8601
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.registerIndexedDB">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>registerIndexedDB
            <span class="apidocSignatureSpan">(that)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.reject">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>reject
            <span class="apidocSignatureSpan">(xs, p)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.remove">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>remove
            <span class="apidocSignatureSpan">(xs, p)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.seq">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>seq
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.size">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>size
            <span class="apidocSignatureSpan">(xs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.values">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>values
            <span class="apidocSignatureSpan">(xs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.whilst">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>whilst
            <span class="apidocSignatureSpan">(test, iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rdfstore.utils.yieldFrequency">
            function <span class="apidocSignatureSpan">rdfstore.utils.</span>yieldFrequency
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore" id="apidoc.module.rdfstore">module rdfstore</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.Store" id="apidoc.element.rdfstore.Store">
        function <span class="apidocSignatureSpan">rdfstore.</span>Store
        <span class="apidocSignatureSpan">(arg1, arg2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Store = function (arg1, arg2) {
    var callback = null;
    var params   = null;

    if(arguments.length == 0) {
		params ={};
    } else if(arguments.length == 1) {
		params   = {};
		callback = arg1;
    } else if(arguments.length &#x3e; 1) {
		params   = arg1;
		callback = arg2;
    } else {
	throw(&#x22;An optional argument map and a callback must be provided&#x22;);
    }

    if(params[&#x27;treeOrder&#x27;] == null) {
		params[&#x27;treeOrder&#x27;] = 15;
    }

    var Lexicon = InMemoryLexicon;
    var QuadBackend = InMemoryQuadBackend;
    if(params[&#x27;persistent&#x27;] === true){
		Lexicon = PersistentLexicon;
		QuadBackend = PersistentBackend;
    }
    this.functionMap = {};

    var that = this;
    this.customFns = {};
    new Lexicon(function(lexicon){
	var createQuadBackend = function() {
	    new QuadBackend(params, function (backend) {
		var createEngine = function() {
		    params.backend = backend;
		    params.lexicon = lexicon;
		    that.engine = new QueryEngine(params);

		    callback(null, that);
		};
		if(params[&#x27;overwrite&#x27;]) {
		    backend.clear(createEngine)
		} else {
		    createEngine();
		}
	    });
	};
	if(params[&#x27;overwrite&#x27;] === true) {
	    // delete lexicon values
	    lexicon.clear(createQuadBackend);
	} else {
	    createQuadBackend();
	}

    },params[&#x27;name&#x27;]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// alt 1
rdfstore.create(function(err, store) {
  // the new store is ready
});


// alt 2
new rdfstore.<span class="apidocCodeKeywordSpan">Store</span>(function(err, store) {
  // the new store is ready
});
```

###Query execution

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.connect" id="apidoc.element.rdfstore.connect">
        function <span class="apidocSignatureSpan">rdfstore.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function () {
    var callback;
    if(arguments.length == 1) {
		callback = arguments[0];
    } else if(arguments.length == 2) {
		callback = arguments[1];
	} else {
	callback = arguments[2];
    }
    callback(new Error(&#x22;Store#connect is not supported in the 0.9.X series of the library&#x22;));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.create" id="apidoc.element.rdfstore.create">
        function <span class="apidocSignatureSpan">rdfstore.</span>create
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (){
    if(arguments.length == 1) {
	return new Store(arguments[0]);
    } else if(arguments.length == 2) {
	return new Store(arguments[0], arguments[1]);
    } else {
	return new Store();
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Introduction

rdfstore-js is a pure Javascript implementation of a RDF graph store with support for the SPARQL query and data manipulation language
.
```javascript
var rdfstore = require(&#x27;rdfstore&#x27;);

rdfstore.<span class="apidocCodeKeywordSpan">create</span>(function(err, store) {
  store.execute(&#x27;LOAD &#x3c;http://dbpedia.org/resource/Tim_Berners-Lee&#x3e; INTO GRAPH &#x3c;http://example.org/people&#x3e
;&#x27;, function() {

	store.setPrefix(&#x27;dbp&#x27;, &#x27;http://dbpedia.org/resource/&#x27;);

	store.node(store.rdf.resolve(&#x27;dbp:Tim_Berners-Lee&#x27;),  &#x22;http://example.org/people&#x22;, function(err, graph) {

	  var peopleGraph = graph.filter(store.rdf.filters.type(store.rdf.resolve(&#x22;foaf:Person&#x22;)));
...</pre></li>
    </ul>






































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.Store" id="apidoc.module.rdfstore.Store">module rdfstore.Store</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.Store.Store" id="apidoc.element.rdfstore.Store.Store">
        function <span class="apidocSignatureSpan">rdfstore.</span>Store
        <span class="apidocSignatureSpan">(arg1, arg2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Store = function (arg1, arg2) {
    var callback = null;
    var params   = null;

    if(arguments.length == 0) {
		params ={};
    } else if(arguments.length == 1) {
		params   = {};
		callback = arg1;
    } else if(arguments.length &#x3e; 1) {
		params   = arg1;
		callback = arg2;
    } else {
	throw(&#x22;An optional argument map and a callback must be provided&#x22;);
    }

    if(params[&#x27;treeOrder&#x27;] == null) {
		params[&#x27;treeOrder&#x27;] = 15;
    }

    var Lexicon = InMemoryLexicon;
    var QuadBackend = InMemoryQuadBackend;
    if(params[&#x27;persistent&#x27;] === true){
		Lexicon = PersistentLexicon;
		QuadBackend = PersistentBackend;
    }
    this.functionMap = {};

    var that = this;
    this.customFns = {};
    new Lexicon(function(lexicon){
	var createQuadBackend = function() {
	    new QuadBackend(params, function (backend) {
		var createEngine = function() {
		    params.backend = backend;
		    params.lexicon = lexicon;
		    that.engine = new QueryEngine(params);

		    callback(null, that);
		};
		if(params[&#x27;overwrite&#x27;]) {
		    backend.clear(createEngine)
		} else {
		    createEngine();
		}
	    });
	};
	if(params[&#x27;overwrite&#x27;] === true) {
	    // delete lexicon values
	    lexicon.clear(createQuadBackend);
	} else {
	    createQuadBackend();
	}

    },params[&#x27;name&#x27;]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// alt 1
rdfstore.create(function(err, store) {
  // the new store is ready
});


// alt 2
new rdfstore.<span class="apidocCodeKeywordSpan">Store</span>(function(err, store) {
  // the new store is ready
});
```

###Query execution

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.yieldFrequency" id="apidoc.element.rdfstore.Store.yieldFrequency">
        function <span class="apidocSignatureSpan">rdfstore.Store.</span>yieldFrequency
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yieldFrequency = function (val) {
    _.yieldFrequency(val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
###Controlling the frequency of function yielding

Performance of the store can be improved by reducing the frequency the &#x27;nexTick&#x27; mechanism is used to cancel the the calls
 stack.
You can reduce this frequency by invoking the `yieldFrequency` function on the Store object and passing a bigger number:

``` javascript
var rdfstore = require(&#x27;rdfstore&#x27;)
rdfstore.Store.<span class="apidocCodeKeywordSpan">yieldFrequency</span>(200); // will only yield after 200 invocations of nextTick

```
If the number is too big a number can produce stack overflow errors during execution. If you find this problem, reduce the value
 provided for `yieldFrequency`.

##Dependencies

The library include dependencies to two semantic-web libraries for
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.Store.prototype" id="apidoc.module.rdfstore.Store.prototype">module rdfstore.Store.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype._nodeToQuery" id="apidoc.element.rdfstore.Store.prototype._nodeToQuery">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>_nodeToQuery
        <span class="apidocSignatureSpan">(term)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_nodeToQuery = function (term) {
    if(term.interfaceName === &#x27;NamedNode&#x27;) {
	var resolvedUri = this.rdf.resolve(term.valueOf());
	if(resolvedUri != null) {
	    return &#x22;&#x3c;&#x22; + resolvedUri + &#x22;&#x3e;&#x22;;
	} else {
	    return &#x22;&#x3c;&#x22; + term.valueOf() + &#x22;&#x3e;&#x22;;
	}
    } else {
	return term.toString();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
} else {
	throw(&#x22;The triples to insert, an optional graph and callback must be provided&#x22;);
}

var query = &#x22;&#x22;;
var that = this;
triples.forEach(function(triple) {
	query = query + that.<span class="apidocCodeKeywordSpan">_nodeToQuery</span>(triple.subject) + that._nodeToQuery(triple.predicate
) + that._nodeToQuery(triple.object) + &#x22;.&#x22;;
});

if(graph != null) {
	query = &#x22;INSERT DATA { GRAPH &#x22; + this._nodeToQuery(graph) +&#x22; { &#x22;+ query + &#x22; } }&#x22;;
} else {
	query = &#x22;INSERT DATA { &#x22;+ query + &#x22; }&#x22;;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.clear" id="apidoc.element.rdfstore.Store.prototype.clear">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>clear
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clear = function () {
    var graph;
    var callback;

    if(arguments.length === 0) {
	graph = this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri);
	var callback= function(){};
    } else if(arguments.length === 1) {
	graph = this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri);
	callback= arguments[0] || function(){};
    } else if(arguments.length === 2) {
	graph = this.rdf.createNamedNode(arguments[0]);
	callback= arguments[1] || function(){};
    } else {
	throw(&#x22;The optional graph and a callback must be provided&#x22;);
    }

    var query = &#x22;CLEAR GRAPH &#x22; + this._nodeToQuery(graph);
    this.engine.execute(query, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
store.delete(graph, graphUri, function(err){});



/* clearing a graph */

// clears the default graph
store.<span class="apidocCodeKeywordSpan">clear</span>(function(err){});

// clears a named graph
store.clear(graphUri, function(err){});



/* Parsing and loading a graph */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.close" id="apidoc.element.rdfstore.Store.prototype.close">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>close
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (cb) {
    if(cb == null)
	cb = function(){};
    if(this.engine.close)
	this.engine.close(cb);
    else
	cb();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Clean-up function releasing all temporary resources held by the
* store instance.
*/
Store.prototype.close = function(cb) {
   if(cb == null)
	cb = function(){};
   if(this.engine.close)
	this.engine.<span class="apidocCodeKeywordSpan">close</span>(cb);
   else
	cb();
};

/**
* Version of the store
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.delete" id="apidoc.element.rdfstore.Store.prototype.delete">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>delete
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function () {

    var graph;
    var triples;
    var callback;
    if(arguments.length === 1) {
	triples = arguments[0];
	callback= function(){};
    } else if(arguments.length === 2) {
	triples = arguments[0];
	callback= arguments[1] || function(){};
    } else if(arguments.length === 3) {
	triples = arguments[0];
	graph = this.rdf.createNamedNode(arguments[1]);
	callback= arguments[2] || function(){};
    } else {
	throw(&#x22;The triples to delete, an optional graph and callback must be provided&#x22;);
    }

    var query = &#x22;&#x22;;
    var that = this;
    triples.forEach(function(triple) {
	query = query + that._nodeToQuery(triple.subject) + that._nodeToQuery(triple.predicate) + that._nodeToQuery(triple.object) + &#x22;.&#x22;;
    });

    if(graph != null) {
	query = &#x22;DELETE DATA { GRAPH &#x22; + this._nodeToQuery(graph) +&#x22; { &#x22;+ query + &#x22; } }&#x22;;
    } else {
	query = &#x22;DELETE DATA { &#x22;+ query + &#x22; }&#x22;;
    }

    this.engine.execute(query, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
store.insert(graph, graphUri, function(err) {}) ;



/* deleting a JS Interface API graph object into the store */

// deleted from the default graph
store.<span class="apidocCodeKeywordSpan">delete</span>(graph, function(err){});

// deleted from graphUri
store.delete(graph, graphUri, function(err){});



/* clearing a graph */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.execute" id="apidoc.element.rdfstore.Store.prototype.execute">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>execute
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">execute = function () {
    if(arguments.length === 3) {
	this.executeWithEnvironment(arguments[0],
	    arguments[1],
	    arguments[2]);
    } else if(arguments.length === 4) {
	this.executeWithEnvironment(arguments[0],
	    arguments[1],
	    arguments[2],
	    arguments[3]);
    } else {

	var queryString;
	var callback;

	if(arguments.length === 1) {
	    queryString = arguments[0];
	    var callback = function(){};
	} else if(arguments.length === 2) {
	    queryString = arguments[0];
	    callback = arguments [1];
	}
	this.engine.execute(queryString, callback);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Introduction

rdfstore-js is a pure Javascript implementation of a RDF graph store with support for the SPARQL query and data manipulation language
.
```javascript
var rdfstore = require(&#x27;rdfstore&#x27;);

rdfstore.create(function(err, store) {
  store.<span class="apidocCodeKeywordSpan">execute</span>(&#x27;LOAD &#x3c;http://dbpedia.org/resource/Tim_Berners-Lee&#x3e; INTO
 GRAPH &#x3c;http://example.org/people&#x3e;&#x27;, function() {

	store.setPrefix(&#x27;dbp&#x27;, &#x27;http://dbpedia.org/resource/&#x27;);

	store.node(store.rdf.resolve(&#x27;dbp:Tim_Berners-Lee&#x27;),  &#x22;http://example.org/people&#x22;, function(err, graph) {

	  var peopleGraph = graph.filter(store.rdf.filters.type(store.rdf.resolve(&#x22;foaf:Person&#x22;)));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.executeWithEnvironment" id="apidoc.element.rdfstore.Store.prototype.executeWithEnvironment">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>executeWithEnvironment
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">executeWithEnvironment = function () {
    var queryString, defaultGraphs, namedGraphs;

    if(arguments.length === 3) {
	queryString   = arguments[0];
	// JSDoc fails if this is pushed outside
	var callback  = function(){};
	defaultGraphs = arguments[1];
	namedGraphs   = arguments[2];
    } else if(arguments.length === 4) {
	queryString   = arguments[0];
	var callback      = arguments [3];
	defaultGraphs = arguments[1];
	namedGraphs   = arguments[2];
    }

    defaultGraphs = _.map(defaultGraphs, function(graph){
	return {&#x27;token&#x27;:&#x27;uri&#x27;,&#x27;value&#x27;:graph};
    });
    namedGraphs = _.map(namedGraphs, function(graph){
	return {&#x27;token&#x27;:&#x27;uri&#x27;,&#x27;value&#x27;:graph};
    });

    this.engine.execute(queryString, callback, defaultGraphs, namedGraphs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// execution with an explicit default and named graph

var defaultGraph = [{&#x27;token&#x27;:&#x27;uri&#x27;, &#x27;value&#x27;: graph1}, {&#x27;token&#x27;:&#x27;uri&#x27;, &#x27;value
&#x27;: graph2}, ...];
var namedGraphs  = [{&#x27;token&#x27;:&#x27;uri&#x27;, &#x27;value&#x27;: graph3}, {&#x27;token&#x27;:&#x27;uri&#x27;, &#x27;value
&#x27;: graph4}, ...];

store.<span class="apidocCodeKeywordSpan">executeWithEnvironment</span>(&#x22;SELECT * { ?s ?p ?o }&#x22;,defaultGraph,
  namedGraphs, function(err, results) {
  if(err) {
	// process results
  }
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.getNetworkTransport" id="apidoc.element.rdfstore.Store.prototype.getNetworkTransport">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>getNetworkTransport
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNetworkTransport = function () {
    return NetworkTransport;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.graph" id="apidoc.element.rdfstore.Store.prototype.graph">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>graph
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">graph = function () {
    var graphUri = null;
    var callback = null;
    if(arguments.length === 1) {
	callback = arguments[0] || function(){};
	graphUri = this.engine.lexicon.defaultGraphUri;
    } else if(arguments.length === 2) {
	callback = arguments[1] || function(){};
	graphUri = arguments[0];
    } else {
	throw(&#x22;An optional graph URI and a callback function must be provided&#x22;);
    }

    if(this.rdf.resolve(graphUri) != null) {
	graphUri = this.rdf.resolve(graphUri);
    }

    this.engine.execute(&#x22;CONSTRUCT { ?s ?p ?o } WHERE { GRAPH &#x3c;&#x22; + graphUri + &#x22;&#x3e; { ?s ?p ?o } }&#x22;, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
###High level interface

The following interface is a convenience API to work with Javascript code instead of using SPARQL query strings. It is built on
top of the RDF Interfaces W3C API.

```javascript
/* retrieving a whole graph as JS Interafce API graph object */

store.<span class="apidocCodeKeywordSpan">graph</span>(graphUri, function(err, graph){
// process graph
});


/* Exporting a graph to N3 (this function is not part of W3C&#x27;s API)*/
store.graph(graphUri, function(err, graph){
var serialized = graph.toNT();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.insert" id="apidoc.element.rdfstore.Store.prototype.insert">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>insert
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function () {
    var graph;
    var triples;
    var callback;
    if(arguments.length === 1) {
	triples = arguments[0];
	callback= function(){};
    } else if(arguments.length === 2) {
	triples = arguments[0];
	callback= arguments[1] || function(){};
    } else if(arguments.length === 3) {
	triples = arguments[0];
	graph = this.rdf.createNamedNode(arguments[1]);
	callback= arguments[2] || function(){};
    } else {
	throw(&#x22;The triples to insert, an optional graph and callback must be provided&#x22;);
    }

    var query = &#x22;&#x22;;
    var that = this;
    triples.forEach(function(triple) {
	query = query + that._nodeToQuery(triple.subject) + that._nodeToQuery(triple.predicate) + that._nodeToQuery(triple.object) + &#x22;.&#x22;;
    });

    if(graph != null) {
	query = &#x22;INSERT DATA { GRAPH &#x22; + this._nodeToQuery(graph) +&#x22; { &#x22;+ query + &#x22; } }&#x22;;
    } else {
	query = &#x22;INSERT DATA { &#x22;+ query + &#x22; }&#x22;;
    }

    this.engine.execute(query, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});



/* inserting a JS Interface API graph object into the store */

// inserted in the default graph
store.<span class="apidocCodeKeywordSpan">insert</span>(graph, function(err) {}) ;

// inserted in graphUri
store.insert(graph, graphUri, function(err) {}) ;



/* deleting a JS Interface API graph object into the store */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.load" id="apidoc.element.rdfstore.Store.prototype.load">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>load
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (){
    var mediaType;
    var data;
    var graph;
    var callback;
    var options = {};

    if(arguments.length === 3) {
	graph = this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri);
	mediaType = arguments[0];
	data = arguments[1];
	callback= arguments[2] || function(){};
    } else if(arguments.length === 4) {
	mediaType = arguments[0];
	data = arguments[1];
	options = arguments[2];
	if(typeof(options) === &#x27;string&#x27;) {
	    graph = this.rdf.createNamedNode(options);
	    options = {};
	} else {
	    graph = this.rdf.createNamedNode(options.graph || this.engine.lexicon.defaultGraphUri);
	    delete options[&#x27;graph&#x27;];
	}
	callback= arguments[3] || function(){};
    } else if(arguments.length === 2) {
	throw(&#x22;The mediaType of the parser, the data a callback and an optional graph must be provided&#x22;);
    }

    if(mediaType === &#x27;remote&#x27;) {
	data = this.rdf.createNamedNode(data);
	var query = &#x22;LOAD &#x3c;&#x22;+data.valueOf()+&#x22;&#x3e; INTO GRAPH &#x3c;&#x22;+graph.valueOf()+&#x22;&#x3e;&#x22;;
	this.engine.execute(query, callback);
    } else {

	var that = this;

	var parser = this.engine.rdfLoader.parsers[mediaType];

	if (!parser) return callback(new Error(&#x22;Cannot find parser for the provided media type:&#x22;+mediaType));

	var cb = function(err, quads) {
	    if(err) {
		callback(err, quads);
	    } else {
		that.engine.batchLoad(quads,function(success){
		    if(success != null){
			callback(null,success);
		    } else {
			callback(new Error(&#x22;Erro batch-loading triples.&#x22;));
		    }
		});
	    }
	};

	var args = [parser, {&#x27;token&#x27;:&#x27;uri&#x27;, &#x27;value&#x27;:graph.valueOf()}, data, options, cb];

	if(data &#x26;&#x26; typeof(data)===&#x27;string&#x27; &#x26;&#x26; data.indexOf(&#x27;file://&#x27;)=== 0) {
	    this.engine.rdfLoader.loadFromFile.apply(null, args);
	} else {
	    this.engine.rdfLoader.tryToParse.apply(null, args);
	}
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
store.clear(graphUri, function(err){});



/* Parsing and loading a graph */

// loading local data
store.<span class="apidocCodeKeywordSpan">load</span>(&#x22;text/turtle&#x22;, turtleString, function(err, results) {});

// loading remote data
store.load(&#x27;remote&#x27;, remoteGraphUri, function(err, results) {});



/* Registering a parser for a new media type */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.node" id="apidoc.element.rdfstore.Store.prototype.node">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>node
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">node = function () {
    var graphUri = null;
    var callback = null;
    var nodeUri  = null;
    if(arguments.length === 2) {
	nodeUri = arguments[0];
	callback = arguments[1] || function(){};
	graphUri = this.engine.lexicon.defaultGraphUri;
    } else if(arguments.length === 3) {
	nodeUri = arguments[0];
	graphUri = arguments[1];
	callback = arguments[2] || function(){};
    } else {
	throw(&#x22;An optional graph URI, node URI and a callback function must be provided&#x22;);
    }

    if(this.rdf.resolve(graphUri) != null) {
	graphUri = this.rdf.resolve(graphUri);
    }

    if(this.rdf.resolve(nodeUri) != null) {
	nodeUri = this.rdf.resolve(nodeUri);
    }

    this.engine.execute(&#x22;CONSTRUCT { &#x3c;&#x22; + nodeUri + &#x22;&#x3e; ?p ?o } WHERE { GRAPH &#x3c;&#x22; + graphUri + &#x22;&#x3e; { &#x3c;&#x22; + nodeUri + &#x22;&#x3e; ?p ?o } }&#x22;,
callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var rdfstore = require(&#x27;rdfstore&#x27;);

rdfstore.create(function(err, store) {
  store.execute(&#x27;LOAD &#x3c;http://dbpedia.org/resource/Tim_Berners-Lee&#x3e; INTO GRAPH &#x3c;http://example.org/people&#x3e
;&#x27;, function() {

	store.setPrefix(&#x27;dbp&#x27;, &#x27;http://dbpedia.org/resource/&#x27;);

	store.<span class="apidocCodeKeywordSpan">node</span>(store.rdf.resolve(&#x27;dbp:Tim_Berners-Lee&#x27;),  &#x22;http://example
.org/people&#x22;, function(err, graph) {

	  var peopleGraph = graph.filter(store.rdf.filters.type(store.rdf.resolve(&#x22;foaf:Person&#x22;)));

	  store.execute(&#x27;PREFIX rdf:  &#x3c;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#x3e;\
					 PREFIX foaf: &#x3c;http://xmlns.com/foaf/0.1/&#x3e;\
					 PREFIX : &#x3c;http://example.org/&#x3e;\
					 SELECT ?s FROM NAMED :people { GRAPH ?g { ?s rdf:type foaf:Person } }&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.registerCustomFunction" id="apidoc.element.rdfstore.Store.prototype.registerCustomFunction">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registerCustomFunction
        <span class="apidocSignatureSpan">(name, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerCustomFunction = function (name, fn) {
    this.customFns[name] = fn;
    this.engine.setCustomFunctions(this.customFns);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		 test:B test:prop 4.\
		 test:C test:prop 1.\
		 test:D test:prop 3.&#x27;,
		function(err) {

			var invoked = false;
            // instead of &#x27;my_addition_check&#x27; a full URI can be used &#x27;http://test.com/my_fns/my_addition_check&#x27
;
			store.<span class="apidocCodeKeywordSpan">registerCustomFunction</span>(&#x27;my_addition_check&#x27;, function(engine,args) {
		// equivalent to var v1 = parseInt(args[0].value), v2 = parseInt(args[1].value);

		var v1 = engine.effectiveTypeValue(args[0]);
		var v2 = engine.effectiveTypeValue(args[1]);

		// equivalent to return {token: &#x27;literal&#x27;, type:&#x22;http://www.w3.org/2001/XMLSchema#boolean&#x22;, value:(v1+v2&#
x3c;5)};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.registerDefaultNamespace" id="apidoc.element.rdfstore.Store.prototype.registerDefaultNamespace">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registerDefaultNamespace
        <span class="apidocSignatureSpan">(ns, prefix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerDefaultNamespace = function (ns, prefix) {
    this.rdf.prefixes.set(ns,prefix);
    this.engine.registerDefaultNamespace(ns,prefix);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * @arguments
 * @param {String} ns the name space to be regsitered
 * @param {String} prefix the URI fragment associated to the name space
 */
Store.prototype.registerDefaultNamespace = function(ns, prefix) {
    this.rdf.prefixes.set(ns,prefix);
    this.engine.<span class="apidocCodeKeywordSpan">registerDefaultNamespace</span>(ns,prefix);
};

/**
 * Registers the default namespaces declared in the RDF JS Interfaces
 * specification in the default Profile.
 */
Store.prototype.registerDefaultProfileNamespaces = function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.registerDefaultProfileNamespaces" id="apidoc.element.rdfstore.Store.prototype.registerDefaultProfileNamespaces">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registerDefaultProfileNamespaces
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerDefaultProfileNamespaces = function () {
    var defaultNsMap = this.rdf.prefixes.values();
    for (var p in defaultNsMap) {
	this.registerDefaultNamespace(p,defaultNsMap[p]);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Default RDF name-spaces can be specified using the *registerDefaultNamespace*. These names will be included automatically in all
 queries. If the same name-space is specified by the client in the query string the new prefix will shadow the default one.
A collection of common name-spaces like rdf, rdfs, foaf, etc. can be automatically registered using the *registerDefaultProfileNamespace
* function.

```javascript
new Store({name:&#x27;test&#x27;, overwrite:true}, function(err,store){
	store.execute(&#x27;INSERT DATA {  &#x3c;http://example/person1&#x3e; &#x3c;http://xmlns.com/foaf/0.1/name&#x3e; &#x22;Celia&#x22
; }&#x27;, function(err){

	   store.<span class="apidocCodeKeywordSpan">registerDefaultProfileNamespaces</span>();

	   store.execute(&#x27;SELECT * { ?s foaf:name ?name }&#x27;, function(err,results) {
		   test.ok(results.length === 1);
		   test.ok(results[0].name.value === &#x22;Celia&#x22;);
	   });
	});
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.registerParser" id="apidoc.element.rdfstore.Store.prototype.registerParser">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registerParser
        <span class="apidocSignatureSpan">(mediaType, parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerParser = function (mediaType, parser) {
    this.engine.rdfLoader.registerParser(mediaType,parser);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


/* Registering a parser for a new media type */

// The parser object must implement a &#x27;parse&#x27; function
// accepting the data to parse and a callback function.

store.<span class="apidocCodeKeywordSpan">registerParser</span>(&#x22;application/rdf+xml&#x22;, rdXmlParser);
```

###RDF Interface API

The store object includes a &#x27;rdf&#x27; object implementing a RDF environment as described in the [RDF Interfaces 1.0](http://
www.w3.org/TR/rdf-interfaces/) W3C&#x27;s working draft.
This object can be used to access to the full RDF Interfaces 1.0 API.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.registeredGraphs" id="apidoc.element.rdfstore.Store.prototype.registeredGraphs">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>registeredGraphs
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registeredGraphs = function (callback) {
    this.engine.lexicon.registeredGraphs(true, function(graphs){
	var graphNodes = _.map(graphs, function(graph){
	    return new RDFModel.NamedNode(graph);
	});

	callback(null, graphNodes);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Returns the URI of all the graphs currently contained
 * in the store
 *
 * @arguments:
 * @param {Function} callback function that will receive a success notification and the array of graph URIs
 */
Store.prototype.registeredGraphs = function(callback) {
    this.engine.lexicon.<span class="apidocCodeKeywordSpan">registeredGraphs</span>(true, function(graphs){
	var graphNodes = _.map(graphs, function(graph){
	    return new RDFModel.NamedNode(graph);
	});

	callback(null, graphNodes);
    });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.setBatchLoadEvents" id="apidoc.element.rdfstore.Store.prototype.setBatchLoadEvents">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>setBatchLoadEvents
        <span class="apidocSignatureSpan">(mustFireEvents)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setBatchLoadEvents = function (mustFireEvents){
    this.engine.eventsOnBatchLoad = mustFireEvents;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.setDefaultPrefix" id="apidoc.element.rdfstore.Store.prototype.setDefaultPrefix">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>setDefaultPrefix
        <span class="apidocSignatureSpan">(uri)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDefaultPrefix = function (uri) {
    this.rdf.setDefaultPrefix(uri);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* API &#x3c;code&#x3e;RDFEnvironment&#x3c;/code&#x3e; object associated to the store and available
* through the &#x3c;code&#x3e;storeInstance.rdf&#x3c;/code&#x3e; property.
*
* @arguments
* @param {String} URIFragment The URI fragment will be used by default
*/
Store.prototype.setDefaultPrefix = function(uri) {
   this.rdf.<span class="apidocCodeKeywordSpan">setDefaultPrefix</span>(uri);
};

/**
* Inserts a RDF JS Interface API &#x3c;code&#x3e;Graph&#x3c;/code&#x3e; object into the store.
* The function receives a mandatory &#x3c;code&#x3e;Graph&#x3c;/code&#x3e; object whose triples
* will be inserted. Optionally, a URI string for a graph and a
* callback function can be passed as arguments.&#x3c;br/&#x3e;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.setNetworkTransport" id="apidoc.element.rdfstore.Store.prototype.setNetworkTransport">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>setNetworkTransport
        <span class="apidocSignatureSpan">(networkTransportImpl)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setNetworkTransport = function (networkTransportImpl) {
    NetworkTransport = networkTransportImpl;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.setPrefix" id="apidoc.element.rdfstore.Store.prototype.setPrefix">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>setPrefix
        <span class="apidocSignatureSpan">(prefix, uri)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setPrefix = function (prefix, uri) {
    this.rdf.setPrefix(prefix, uri);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
rdfstore-js is a pure Javascript implementation of a RDF graph store with support for the SPARQL query and data manipulation language
.
```javascript
var rdfstore = require(&#x27;rdfstore&#x27;);

rdfstore.create(function(err, store) {
  store.execute(&#x27;LOAD &#x3c;http://dbpedia.org/resource/Tim_Berners-Lee&#x3e; INTO GRAPH &#x3c;http://example.org/people&#x3e
;&#x27;, function() {

	store.<span class="apidocCodeKeywordSpan">setPrefix</span>(&#x27;dbp&#x27;, &#x27;http://dbpedia.org/resource/&#x27;);

	store.node(store.rdf.resolve(&#x27;dbp:Tim_Berners-Lee&#x27;),  &#x22;http://example.org/people&#x22;, function(err, graph) {

	  var peopleGraph = graph.filter(store.rdf.filters.type(store.rdf.resolve(&#x22;foaf:Person&#x22;)));

	  store.execute(&#x27;PREFIX rdf:  &#x3c;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#x3e;\
					 PREFIX foaf: &#x3c;http://xmlns.com/foaf/0.1/&#x3e;\
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.startObservingNode" id="apidoc.element.rdfstore.Store.prototype.startObservingNode">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>startObservingNode
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">startObservingNode = function () {
    var uri, graphUri, callback;

    if(arguments.length === 2) {
	uri = arguments[0];
	callback = arguments[1];
	this.engine.callbacksBackend.observeNode(uri, callback, function(){});
    } else if(arguments.length === 3) {
	uri = arguments[0];
	graphUri = arguments[1];
	callback = arguments[2];
	this.engine.callbacksBackend.observeNode(uri, graphUri, callback, function(){});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // If the node does not exist, the graph received will
  // not contain triples.
  console.log(&#x22;The node has now &#x22;+node.toArray().length+&#x22; nodes&#x22;);
}

// if only tow arguments are passed, the default graph will be used.
// A graph uri can be passed as an optional second argument.
store.<span class="apidocCodeKeywordSpan">startObservingNode</span>(&#x22;http://example/book&#x22;,cb);


// .. do something;

// stop receiving notifications
store.stopObservingNode(cb);
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.startObservingQuery" id="apidoc.element.rdfstore.Store.prototype.startObservingQuery">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>startObservingQuery
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">startObservingQuery = function () {
    var query = arguments[0];
    var callback = arguments[1];
    var endCallback = arguments[2];
    if(endCallback!=null) {
	this.engine.callbacksBackend.observeQuery(query, callback, endCallback);
    } else {
	this.engine.callbacksBackend.observeQuery(query, callback, function(){});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.stopObservingNode" id="apidoc.element.rdfstore.Store.prototype.stopObservingNode">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>stopObservingNode
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stopObservingNode = function (callback) {
    this.engine.callbacksBackend.stopObservingNode(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// A graph uri can be passed as an optional second argument.
store.startObservingNode(&#x22;http://example/book&#x22;,cb);


// .. do something;

// stop receiving notifications
store.<span class="apidocCodeKeywordSpan">stopObservingNode</span>(cb);
```

In the same way, there are *startObservingQuery* and *stopObservingQuery* functions that makes possible to set up callbacks for
whole SPARQL queries.
The store will try to be smart and not perform unnecessary evaluations of these query after quad insertion/deletions. Nevertheless
 too broad queries must be used carefully with the events API.

###Custom Filter Functions
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.stopObservingQuery" id="apidoc.element.rdfstore.Store.prototype.stopObservingQuery">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>stopObservingQuery
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stopObservingQuery = function (query) {
    this.engine.callbacksBackend.stopObservingQuery(query);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Removes a callback function associated to a SPARQL query.&#x3c;br/&#x3e;
* The event listener function object must be passed as an argument.
*
* @arguments
* @param {Function} eventListener The event listener function to remove, the same passed as an argument to startObservingQuery
*/
Store.prototype.stopObservingQuery = function(query) {
   this.engine.callbacksBackend.<span class="apidocCodeKeywordSpan">stopObservingQuery</span>(query);
};

/**
* Associates an event listener to a pattern expressed as the
* subject, predicate, object and graph string parameters passed
* to the function. To match any value in that position, a &#x3c;code&#x3e;null&#x3c;/code&#x3e;
* value can be passed as an argument. e.g. &#x3c;code&#x3e;subscribe(null, null, null, g, cb)&#x3c;/code&#x3e;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.subscribe" id="apidoc.element.rdfstore.Store.prototype.subscribe">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>subscribe
        <span class="apidocSignatureSpan">(s, p, o, g, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscribe = function (s, p, o, g, callback) {
    var that = this;
    var adapterCb = function(event,triples){
	var acum = [];
	var queryEnv = {blanks:{}, outCache:{}};
	var bindings = [];

	_.each(triples, function(triple){
	    var s = RDFModel.buildRDFResource(triple.subject,bindings,that.engine,queryEnv);
	    var p = RDFModel.buildRDFResource(triple.predicate,bindings,that.engine,queryEnv);
	    var o = RDFModel.buildRDFResource(triple.object,bindings,that.engine,queryEnv);
	    if(s!=null &#x26;&#x26; p!=null &#x26;&#x26; o!=null) {
		triple = new RDFModel.Triple(s,p,o);
		acum.push(triple);
	    }
	});

	callback(event,acum);
    };

    this.functionMap[callback] = adapterCb;
    this.engine.callbacksBackend.subscribe(s,p,o,g,adapterCb,function(){});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if(event === &#x27;added&#x27;) {
	console.log(triples.length+&#x22; triples have been added&#x22;);
  } else if(event === &#x27;deleted&#x27;) {
	console.log(triples.length+&#x22; triples have been deleted&#x22;);
  }
}

store.<span class="apidocCodeKeywordSpan">subscribe</span>(&#x22;http://example/book&#x22;,null,null,null,cb);


// .. do something;

// stop receiving notifications
store.unsubscribe(cb);
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.Store.prototype.unsubscribe" id="apidoc.element.rdfstore.Store.prototype.unsubscribe">
        function <span class="apidocSignatureSpan">rdfstore.Store.prototype.</span>unsubscribe
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsubscribe = function (callback) {
    var adapterCb = this.functionMap[callback];
    this.engine.callbacksBackend.unsubscribe(adapterCb);
    delete this.functionMap[callback];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

store.subscribe(&#x22;http://example/book&#x22;,null,null,null,cb);


// .. do something;

// stop receiving notifications
store.<span class="apidocCodeKeywordSpan">unsubscribe</span>(cb);
```

The main difference between both methods is that *subscribe* receives the triples that have changed meanwhile *startObservingNode
* receives alway the whole node with its updated triples. *startObservingNode* receives the node as a RDF Interface graph object
.

```javascript
var cb = function(node){
// it will receive the updated version of the node each
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.abstract_query_tree" id="apidoc.module.rdfstore.abstract_query_tree">module rdfstore.abstract_query_tree</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.abstract_query_tree.AbstractQueryTree" id="apidoc.element.rdfstore.abstract_query_tree.AbstractQueryTree">
        function <span class="apidocSignatureSpan">rdfstore.abstract_query_tree.</span>AbstractQueryTree
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">AbstractQueryTree = function () {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//imports

QueryEngine.QueryEngine = function(params) {
    if(arguments.length != 0) {
        this.backend = params.backend;
        this.lexicon = params.lexicon;
        this.abstractQueryTree = new AbstractQueryTree.<span class="apidocCodeKeywordSpan">AbstractQueryTree</span>();
        this.rdfLoader = new RDFLoader.RDFLoader(params[&#x27;communication&#x27;]);
        this.callbacksBackend = new Callbacks.CallbacksBackend(this);
    }
};

// Utils
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.abstract_query_tree.NonSupportedSparqlFeatureError" id="apidoc.element.rdfstore.abstract_query_tree.NonSupportedSparqlFeatureError">
        function <span class="apidocSignatureSpan">rdfstore.abstract_query_tree.</span>NonSupportedSparqlFeatureError
        <span class="apidocSignatureSpan">(feature, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function NonSupportedSparqlFeatureError(feature, message) {
    this.name = &#x22;NonSupportedSparqlFeatureError&#x22;;
    this.feature = feature;
    this.message = message || &#x22;SPARQL feature &#x22;+feature+&#x22; non supported&#x22;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.abstract_query_tree.SparqlParserError" id="apidoc.element.rdfstore.abstract_query_tree.SparqlParserError">
        function <span class="apidocSignatureSpan">rdfstore.abstract_query_tree.</span>SparqlParserError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SparqlParserError(message) {
    this.name = ParserError;
    this.message = message || &#x22;Error parsing SPARQL query&#x22;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.btree" id="apidoc.module.rdfstore.btree">module rdfstore.btree</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.btree.Node" id="apidoc.element.rdfstore.btree.Node">
        function <span class="apidocSignatureSpan">rdfstore.btree.</span>Node
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Node = function () {
    this.numberActives = 0;
    this.isLeaf = null;
    this.keys = [];
    this.children = [];
    this.level = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* This class can be overwritten by different versions of
* the tree t select the right kind of node to be used
*
* @returns the new alloacted node
*/
InMemoryAsyncBTree.Tree.prototype._allocateNode = function() {
   return new InMemoryAsyncBTree.<span class="apidocCodeKeywordSpan">Node</span>();
};

/**
* _diskWrite
*
* Persists the node to secondary memory.
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.btree.Tree" id="apidoc.element.rdfstore.btree.Tree">
        function <span class="apidocSignatureSpan">rdfstore.btree.</span>Tree
        <span class="apidocSignatureSpan">(order, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Tree = function (order, f) {
    if(arguments.length != 0) {
        this.order = order;
        this.root = this._allocateNode();
        this.root.isLeaf = true;
        this.root.level = 0;
        var that = this;
        this._diskWrite(this.root, function(root){
            that.root = root;
            that._updateRootNode(that.root, function(n){
                that.comparator = function(a,b) {
                    if(a &#x3c; b) {
                        return -1;
                    } else if(a &#x3e; b){
                        return 1;
                    } else {
                        return 0;
                    }
                };
                that.merger = null;
                // we notify we are ready
                if(f!=null) {
                    f(that);
                }
            })});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


describe(&#x27;BTree&#x27;, function(){


it(&#x22;Should be possible to find data that has been inserted in the tree as well as walk through it.&#x22;, function(done){
    async.seq(function(_,c){
        new btree.<span class="apidocCodeKeywordSpan">Tree</span>(2,function(tree){
            c(null,tree);
        });
    },function(tree,c){
        async.eachSeries([11, 2, 14, 15, 1, 7, 5, 8, 4, 6, 3],
            function(i,cc){
                tree.insert(i,i,function(){ cc(); });
            },function(e){
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.btree_hash" id="apidoc.module.rdfstore.btree_hash">module rdfstore.btree_hash</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.btree_hash.Tree" id="apidoc.element.rdfstore.btree_hash.Tree">
        function <span class="apidocSignatureSpan">rdfstore.btree_hash.</span>Tree
        <span class="apidocSignatureSpan">(keyFun, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Tree = function (keyFun, f) {
    this.keyFun = keyFun;
    if(this.keyFun == null || typeof(keyFun) !== &#x27;function&#x27;)
        this.keyFun = function(x) { return x };

    this.data = {};
    if(f != null)
        return f(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


describe(&#x27;BTree&#x27;, function(){


it(&#x22;Should be possible to find data that has been inserted in the tree as well as walk through it.&#x22;, function(done){
    async.seq(function(_,c){
        new btree.<span class="apidocCodeKeywordSpan">Tree</span>(2,function(tree){
            c(null,tree);
        });
    },function(tree,c){
        async.eachSeries([11, 2, 14, 15, 1, 7, 5, 8, 4, 6, 3],
            function(i,cc){
                tree.insert(i,i,function(){ cc(); });
            },function(e){
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.graph_callbacks" id="apidoc.module.rdfstore.graph_callbacks">module rdfstore.graph_callbacks</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.graph_callbacks.CallbacksBackend" id="apidoc.element.rdfstore.graph_callbacks.CallbacksBackend">
        function <span class="apidocSignatureSpan">rdfstore.graph_callbacks.</span>CallbacksBackend
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CallbacksBackend = function () {
    this.aqt = new AbstractQueryTree();
    this.engine = arguments[0];
    this.indexMap = {};
    this.observersMap = {};
    this.queriesIndexMap = {};
    this.emptyNotificationsMap = {};
    this.queriesList = [];
    this.pendingQueries = [];
    this.matchedQueries = [];
    this.updateInProgress = null;
    this.indices = [&#x27;SPOG&#x27;, &#x27;GP&#x27;, &#x27;OGS&#x27;, &#x27;POG&#x27;, &#x27;GSP&#x27;, &#x27;OS&#x27;];
    this.componentOrders = {
	SPOG: [&#x27;subject&#x27;, &#x27;predicate&#x27;, &#x27;object&#x27;, &#x27;graph&#x27;],
	GP: [&#x27;graph&#x27;, &#x27;predicate&#x27;, &#x27;subject&#x27;, &#x27;object&#x27;],
	OGS: [&#x27;object&#x27;, &#x27;graph&#x27;, &#x27;subject&#x27;, &#x27;predicate&#x27;],
	POG: [&#x27;predicate&#x27;, &#x27;object&#x27;, &#x27;graph&#x27;, &#x27;subject&#x27;],
	GSP: [&#x27;graph&#x27;, &#x27;subject&#x27;, &#x27;predicate&#x27;, &#x27;object&#x27;],
	OS: [&#x27;object&#x27;, &#x27;subject&#x27;, &#x27;predicate&#x27;, &#x27;graph&#x27;]
    };

    this.callbackCounter = 0;
    this.callbacksMap = {};
    this.callbacksInverseMap = {};

    this.queryCounter = 0;
    this.queriesMap = {};
    this.queriesCallbacksMap = {};
    this.queriesInverseMap = {};

    for(var i=0; i&#x3c;this.indices.length; i++) {
	var indexKey = this.indices[i];
	this.indexMap[indexKey] = {};
	this.queriesIndexMap[indexKey] = {};
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

QueryEngine.QueryEngine = function(params) {
if(arguments.length != 0) {
    this.backend = params.backend;
    this.lexicon = params.lexicon;
    this.abstractQueryTree = new AbstractQueryTree.AbstractQueryTree();
    this.rdfLoader = new RDFLoader.RDFLoader(params[&#x27;communication&#x27;]);
    this.callbacksBackend = new Callbacks.<span class="apidocCodeKeywordSpan">CallbacksBackend</span>(this);
}
};

// Utils

QueryEngine.QueryEngine.prototype.registerNsInEnvironment = function(prologue, env) {
var prefixes = prologue.prefixes;
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.lexicon" id="apidoc.module.rdfstore.lexicon">module rdfstore.lexicon</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.lexicon.Lexicon" id="apidoc.element.rdfstore.lexicon.Lexicon">
        function <span class="apidocSignatureSpan">rdfstore.lexicon.</span>Lexicon
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Lexicon = function (callback){
    var that = this;
    this.defaultGraphOid = 0;
    this.defaultGraphUri = &#x22;https://github.com/antoniogarrote/rdfstore-js#default_graph&#x22;;
    this.defaultGraphUriTerm = {&#x22;token&#x22;:&#x22;uri&#x22;,&#x22;prefix&#x22;:null,&#x22;suffix&#x22;:null,&#x22;value&#x22;:this.defaultGraphUri};
    this.oidCounter = 1;

    async.seq(function(k){
        new Tree(2,function(tree){
            that.uris = tree;
            k();
        })
    }, function(k){
        new Tree(2, function(tree){
            that.literals = tree;
            k();
        })
    }, function(k){
        new Tree(2, function(tree){
            that.knownGraphs = tree;
            k();
        })
    },function(k){
        new Tree(2,function(tree){
            that.oidUris = tree;
            k();
        })
    }, function(k){
        new Tree(2, function(tree){
            that.oidLiterals = tree;
            k();
        })
    }, function(k){
        new Tree(2, function(tree){
            that.oidBlanks = tree;
            k();
        })
    })(function(){
        if(callback != null)
            callback(that);

    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    params[&#x27;treeOrder&#x27;] = 2;
}

this.rdf = RDFJSInterface.rdf;
this.functionMap = {};

var that = this;
new Lexicon.<span class="apidocCodeKeywordSpan">Lexicon</span>(function(lexicon){
    new QuadBackend.QuadBackend(params, function(backend){
        params.backend = backend;
        params.lexicon =lexicon;
        that.engine = new QueryEngine.QueryEngine(params);
        if(callback) {
            callback(that);
        }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.lexicon_hash" id="apidoc.module.rdfstore.lexicon_hash">module rdfstore.lexicon_hash</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.lexicon_hash.Lexicon" id="apidoc.element.rdfstore.lexicon_hash.Lexicon">
        function <span class="apidocSignatureSpan">rdfstore.lexicon_hash.</span>Lexicon
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Lexicon = function (callback){
    this.uriToOID = {};
    this.OIDToUri = {};

    this.literalToOID = {};
    this.OIDToLiteral = {};

    this.OIDToBlank = {};

    this.defaultGraphOid = 0;
    this.defaultGraphUri = &#x22;https://github.com/antoniogarrote/rdfstore-js#default_graph&#x22;;

    this.oidCounter = 1;

    this.knownGraphs = {};

    if(callback != null) {
        callback(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    params[&#x27;treeOrder&#x27;] = 2;
}

this.rdf = RDFJSInterface.rdf;
this.functionMap = {};

var that = this;
new Lexicon.<span class="apidocCodeKeywordSpan">Lexicon</span>(function(lexicon){
    new QuadBackend.QuadBackend(params, function(backend){
        params.backend = backend;
        params.lexicon =lexicon;
        that.engine = new QueryEngine.QueryEngine(params);
        if(callback) {
            callback(that);
        }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.nodeunit" id="apidoc.module.rdfstore.nodeunit">module rdfstore.nodeunit</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.all" id="apidoc.element.rdfstore.nodeunit.all">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>all
        <span class="apidocSignatureSpan">(arr, iterator, main_callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">all = function (arr, iterator, main_callback) {
    async.forEach(arr, function (x, callback) {
        iterator(x, function (v) {
            if (!v) {
                main_callback(false);
                main_callback = function () {};
            }
            callback();
        });
    }, function (err) {
        main_callback(true);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// on rejection
      });
      ```

      Unlike callbacks, promises are great composable primitives.

      ```js
      Promise.<span class="apidocCodeKeywordSpan">all</span>([
getJSON(&#x27;/posts&#x27;),
getJSON(&#x27;/comments&#x27;)
      ]).then(function(values){
values[0] // =&#x3e; postsJSON
values[1] // =&#x3e; commentsJSON

return values;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.any" id="apidoc.element.rdfstore.nodeunit.any">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>any
        <span class="apidocSignatureSpan">(arr, iterator, main_callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">any = function (arr, iterator, main_callback) {
    async.forEach(arr, function (x, callback) {
        iterator(x, function (v) {
            if (v) {
                main_callback(true);
                main_callback = function () {};
            }
            callback();
        });
    }, function (err) {
        main_callback(false);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.apply" id="apidoc.element.rdfstore.nodeunit.apply">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>apply
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">apply = function (fn) {
    var args = Array.prototype.slice.call(arguments, 1);
    return function () {
        return fn.apply(
            null, args.concat(Array.prototype.slice.call(arguments))
        );
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      break;
    // slower
    default:
      len = arguments.length;
      args = new Array(len - 1);
      for (i = 1; i &#x3c; len; i++)
        args[i - 1] = arguments[i];
      handler.<span class="apidocCodeKeywordSpan">apply</span>(this, args);
  }
} else if (isObject(handler)) {
  len = arguments.length;
  args = new Array(len - 1);
  for (i = 1; i &#x3c; len; i++)
    args[i - 1] = arguments[i];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.auto" id="apidoc.element.rdfstore.nodeunit.auto">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>auto
        <span class="apidocSignatureSpan">(tasks, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auto = function (tasks, callback) {
    callback = callback || function () {};
    var keys = _keys(tasks);
    if (!keys.length) {
        return callback(null);
    }

    var completed = [];

    var listeners = [];
    var addListener = function (fn) {
        listeners.unshift(fn);
    };
    var removeListener = function (fn) {
        for (var i = 0; i &#x3c; listeners.length; i += 1) {
            if (listeners[i] === fn) {
                listeners.splice(i, 1);
                return;
            }
        }
    };
    var taskComplete = function () {
        _forEach(listeners, function (fn) {
            fn();
        });
    };

    addListener(function () {
        if (completed.length === keys.length) {
            callback(null);
        }
    });

    _forEach(keys, function (k) {
        var task = (tasks[k] instanceof Function) ? [tasks[k]]: tasks[k];
        var taskCallback = function (err) {
            if (err) {
                callback(err);
                // stop subsequent errors hitting callback multiple times
                callback = function () {};
            }
            else {
                completed.push(k);
                taskComplete();
            }
        };
        var requires = task.slice(0, Math.abs(task.length - 1)) || [];
        var ready = function () {
            return _reduce(requires, function (a, x) {
                return (a &#x26;&#x26; _indexOf(completed, x) !== -1);
            }, true);
        };
        if (ready()) {
            task[task.length - 1](taskCallback);
        }
        else {
            var listener = function () {
                if (ready()) {
                    removeListener(listener);
                    task[task.length - 1](taskCallback);
                }
            };
            addListener(listener);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.concat" id="apidoc.element.rdfstore.nodeunit.concat">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>concat
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">concat = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEach].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  default:
    throw new Error(&#x27;Unknown encoding&#x27;)
}
return ret
}

Buffer.concat = function (list, totalLength) {
assert(isArray(list), &#x27;Usage: Buffer.<span class="apidocCodeKeywordSpan">concat</span>(list, [totalLength])\n&#x27; +
    &#x27;list should be an Array.&#x27;)

if (list.length === 0) {
  return new Buffer(0)
} else if (list.length === 1) {
  return list[0]
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.concatSeries" id="apidoc.element.rdfstore.nodeunit.concatSeries">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>concatSeries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">concatSeries = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEachSeries].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {Function} callback
 * @api public
 */

exports.runSuite = function (name, suite, opt, callback) {
    var keys = _keys(suite);

    async.<span class="apidocCodeKeywordSpan">concatSeries</span>(keys, function (k, cb) {
var prop = suite[k], _name;

_name = name ? [].concat(name, k) : [k];

_name.toString = function () {
    // fallback for old one
    return this.join(&#x27; - &#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.detect" id="apidoc.element.rdfstore.nodeunit.detect">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>detect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detect = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEach].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.detectSeries" id="apidoc.element.rdfstore.nodeunit.detectSeries">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>detectSeries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detectSeries = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEachSeries].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.dir" id="apidoc.element.rdfstore.nodeunit.dir">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>dir
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dir = function (fn) {
    var args = Array.prototype.slice.call(arguments, 1);
    fn.apply(null, args.concat([function (err) {
        var args = Array.prototype.slice.call(arguments, 1);
        if (typeof console !== &#x27;undefined&#x27;) {
            if (err) {
                if (console.error) {
                    console.error(err);
                }
            }
            else if (console[name]) {
                _forEach(args, function (x) {
                    console[name](x);
                });
            }
        }
    }]));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.every" id="apidoc.element.rdfstore.nodeunit.every">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>every
        <span class="apidocSignatureSpan">(arr, iterator, main_callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">every = function (arr, iterator, main_callback) {
    async.forEach(arr, function (x, callback) {
        iterator(x, function (v) {
            if (!v) {
                main_callback(false);
                main_callback = function () {};
            }
            callback();
        });
    }, function (err) {
        main_callback(true);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.filter" id="apidoc.element.rdfstore.nodeunit.filter">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>filter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEach].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
rdfstore.create(function(err, store) {
  store.execute(&#x27;LOAD &#x3c;http://dbpedia.org/resource/Tim_Berners-Lee&#x3e; INTO GRAPH &#x3c;http://example.org/people&#x3e
;&#x27;, function() {

	store.setPrefix(&#x27;dbp&#x27;, &#x27;http://dbpedia.org/resource/&#x27;);

	store.node(store.rdf.resolve(&#x27;dbp:Tim_Berners-Lee&#x27;),  &#x22;http://example.org/people&#x22;, function(err, graph) {

	  var peopleGraph = graph.<span class="apidocCodeKeywordSpan">filter</span>(store.rdf.filters.type(store.rdf.resolve(&#x22;foaf
:Person&#x22;)));

	  store.execute(&#x27;PREFIX rdf:  &#x3c;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#x3e;\
					 PREFIX foaf: &#x3c;http://xmlns.com/foaf/0.1/&#x3e;\
					 PREFIX : &#x3c;http://example.org/&#x3e;\
					 SELECT ?s FROM NAMED :people { GRAPH ?g { ?s rdf:type foaf:Person } }&#x27;,
					 function(err, results) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.filterSeries" id="apidoc.element.rdfstore.nodeunit.filterSeries">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>filterSeries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filterSeries = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEachSeries].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.foldl" id="apidoc.element.rdfstore.nodeunit.foldl">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>foldl
        <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">foldl = function (arr, memo, iterator, callback) {
    async.forEachSeries(arr, function (x, callback) {
        iterator(memo, x, function (err, v) {
            memo = v;
            callback(err);
        });
    }, function (err) {
        callback(err, memo);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.foldr" id="apidoc.element.rdfstore.nodeunit.foldr">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>foldr
        <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">foldr = function (arr, memo, iterator, callback) {
    var reversed = _map(arr, function (x) {
        return x;
    }).reverse();
    async.reduce(reversed, memo, iterator, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.forEach" id="apidoc.element.rdfstore.nodeunit.forEach">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>forEach
        <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEach = function (arr, iterator, callback) {
    if (!arr.length) {
        return callback();
    }
    var completed = 0;
    _forEach(arr, function (x) {
        iterator(x, function (err) {
            if (err) {
                callback(err);
                callback = function () {};
            }
            else {
                completed += 1;
                if (completed === arr.length) {
                    callback();
                }
            }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

store.execute(query, function(err, graph){
  if(graph.some(store.rdf.filters.p(store.rdf.resolve(&#x27;foaf:name&#x27;)))) {
	nameTriples = graph.match(null,
							  store.rdf.createNamedNode(rdf.resolve(&#x27;foaf:name&#x27;)),
							  null);

	nameTriples.<span class="apidocCodeKeywordSpan">forEach</span>(function(triple) {
	  console.log(triple.object.valueOf());
	});
  }
});
```

###Loading remote graphs
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.forEachSeries" id="apidoc.element.rdfstore.nodeunit.forEachSeries">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>forEachSeries
        <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEachSeries = function (arr, iterator, callback) {
    if (!arr.length) {
        return callback();
    }
    var completed = 0;
    var iterate = function () {
        iterator(arr[completed], function (err) {
            if (err) {
                callback(err);
                callback = function () {};
            }
            else {
                completed += 1;
                if (completed === arr.length) {
                    callback();
                }
                else {
                    iterate();
                }
            }
        });
    };
    iterate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
async.map = doParallel(_asyncMap);
async.mapSeries = doSeries(_asyncMap);


// reduce only has a series version, as doing reduce in parallel won&#x27;t
// work in many situations.
async.reduce = function (arr, memo, iterator, callback) {
    async.<span class="apidocCodeKeywordSpan">forEachSeries</span>(arr, function (x, callback) {
        iterator(memo, x, function (err, v) {
            memo = v;
            callback(err);
        });
    }, function (err) {
        callback(err, memo);
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.inject" id="apidoc.element.rdfstore.nodeunit.inject">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>inject
        <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inject = function (arr, memo, iterator, callback) {
    async.forEachSeries(arr, function (x, callback) {
        iterator(memo, x, function (err, v) {
            memo = v;
            callback(err);
        });
    }, function (err) {
        callback(err, memo);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.iterator" id="apidoc.element.rdfstore.nodeunit.iterator">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>iterator
        <span class="apidocSignatureSpan">(tasks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">iterator = function (tasks) {
    var makeCallback = function (index) {
        var fn = function () {
            if (tasks.length) {
                tasks[index].apply(null, arguments);
            }
            return fn.next();
        };
        fn.next = function () {
            return (index &#x3c; tasks.length - 1) ? makeCallback(index + 1): null;
        };
        return fn;
    };
    return makeCallback(0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                }
                async.nextTick(function () {
                    iterator.apply(null, args);
                });
            }
        };
    };
    wrapIterator(async.<span class="apidocCodeKeywordSpan">iterator</span>(tasks))();
};

async.parallel = function (tasks, callback) {
    callback = callback || function () {};
    if (tasks.constructor === Array) {
        async.map(tasks, function (fn, callback) {
            if (fn) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.log" id="apidoc.element.rdfstore.nodeunit.log">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>log
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function (fn) {
    var args = Array.prototype.slice.call(arguments, 1);
    fn.apply(null, args.concat([function (err) {
        var args = Array.prototype.slice.call(arguments, 1);
        if (typeof console !== &#x27;undefined&#x27;) {
            if (err) {
                if (console.error) {
                    console.error(err);
                }
            }
            else if (console[name]) {
                _forEach(args, function (x) {
                    console[name](x);
                });
            }
        }
    }]));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	  store.execute(&#x27;PREFIX rdf:  &#x3c;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#x3e;\
					 PREFIX foaf: &#x3c;http://xmlns.com/foaf/0.1/&#x3e;\
					 PREFIX : &#x3c;http://example.org/&#x3e;\
					 SELECT ?s FROM NAMED :people { GRAPH ?g { ?s rdf:type foaf:Person } }&#x27;,
					 function(err, results) {

					   console.<span class="apidocCodeKeywordSpan">log</span>(peopleGraph.toArray()[0].subject.valueOf() === results[0].s.value
);

					 });
	});

  });
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.map" id="apidoc.element.rdfstore.nodeunit.map">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>map
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEach].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  obj = undefined;
}

if (typeof obj === &#x27;object&#x27;) {
  return map(objectKeys(obj), function(k) {
    var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
    if (isArray(obj[k])) {
      return obj[k].<span class="apidocCodeKeywordSpan">map</span>(function(v) {
        return ks + encodeURIComponent(stringifyPrimitive(v));
      }).join(sep);
    } else {
      return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
    }
  }).join(sep);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.mapSeries" id="apidoc.element.rdfstore.nodeunit.mapSeries">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>mapSeries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mapSeries = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEachSeries].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        });
    }
};

async.series = function (tasks, callback) {
    callback = callback || function () {};
    if (tasks.constructor === Array) {
        async.<span class="apidocCodeKeywordSpan">mapSeries</span>(tasks, function (fn, callback) {
            if (fn) {
                fn(function (err) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    if (args.length &#x3c;= 1) {
                        args = args[0];
                    }
                    callback.call(null, err, args || null);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.memoize" id="apidoc.element.rdfstore.nodeunit.memoize">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>memoize
        <span class="apidocSignatureSpan">(fn, hasher)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">memoize = function (fn, hasher) {
    var memo = {};
    hasher = hasher || function (x) {
        return x;
    };
    return function () {
        var args = Array.prototype.slice.call(arguments);
        var callback = args.pop();
        var key = hasher.apply(null, args);
        if (key in memo) {
            callback.apply(null, memo[key]);
        }
        else {
            fn.apply(null, args.concat([function () {
                memo[key] = arguments;
                callback.apply(null, arguments);
            }]));
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        findMemoNodes(childNodes[i], appendToArray);
}
    }

    return {
memoize: function (callback) {
    if (typeof callback != &#x22;function&#x22;)
        throw new Error(&#x22;You can only pass a function to ko.memoization.<span class="apidocCodeKeywordSpan">memoize</span>()&#
x22;);
    var memoId = generateRandomId();
    memos[memoId] = callback;
    return &#x22;&#x3c;!--[ko_memo:&#x22; + memoId + &#x22;]--&#x3e;&#x22;;
},

unmemoize: function (memoId, callbackParams) {
    var callback = memos[memoId];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.nextTick" id="apidoc.element.rdfstore.nodeunit.nextTick">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>nextTick
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function nextTick(callback) {
  if (typeof callback !== &#x27;function&#x27;)
    throw new TypeError(&#x27;callback is not a function&#x27;);
  // on the way out, don&#x27;t bother. it won&#x27;t get fired anyway.
  if (process._exiting)
    return;

  var args;
  if (arguments.length &#x3e; 1) {
    args = new Array(arguments.length - 1);
    for (var i = 1; i &#x3c; arguments.length; i++)
      args[i - 1] = arguments[i];
  }

  nextTickQueue.push({
    callback,
    domain: process.domain || null,
    args
  });
  tickInfo[kLength]++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *          [skipExpansion] true to assume the input is expanded and skip
 *            expansion, false not to, defaults to false.
 *          [documentLoader(url, callback(err, remoteDoc))] the document loader.
 * @param callback(err, compacted, ctx) called once the operation completes.
 */
jsonld.compact = function(input, ctx, options, callback) {
if(arguments.length &#x3c; 2) {
  return jsonld.<span class="apidocCodeKeywordSpan">nextTick</span>(function() {
    callback(new TypeError(&#x27;Could not compact, too few arguments.&#x27;));
  });
}

// get arguments
if(typeof options === &#x27;function&#x27;) {
  callback = options;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.noConflict" id="apidoc.element.rdfstore.nodeunit.noConflict">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>noConflict
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">noConflict = function () {
    root.async = previous_async;
    return async;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.parallel" id="apidoc.element.rdfstore.nodeunit.parallel">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>parallel
        <span class="apidocSignatureSpan">(tasks, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parallel = function (tasks, callback) {
    callback = callback || function () {};
    if (tasks.constructor === Array) {
        async.map(tasks, function (fn, callback) {
            if (fn) {
                fn(function (err) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    if (args.length &#x3c;= 1) {
                        args = args[0];
                    }
                    callback.call(null, err, args || null);
                });
            }
        }, callback);
    }
    else {
        var results = {};
        async.forEach(_keys(tasks), function (k, callback) {
            tasks[k](function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                if (args.length &#x3c;= 1) {
                    args = args[0];
                }
                results[k] = args;
                callback(err);
            });
        }, function (err) {
            callback(err, results);
        });
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.queue" id="apidoc.element.rdfstore.nodeunit.queue">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>queue
        <span class="apidocSignatureSpan">(worker, concurrency)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queue = function (worker, concurrency) {
    var workers = 0;
    var tasks = [];
    var q = {
        concurrency: concurrency,
        push: function (data, callback) {
            tasks.push({data: data, callback: callback});
            async.nextTick(q.process);
        },
        process: function () {
            if (workers &#x3c; q.concurrency &#x26;&#x26; tasks.length) {
                var task = tasks.splice(0, 1)[0];
                workers += 1;
                worker(task.data, function () {
                    workers -= 1;
                    if (task.callback) {
                        task.callback.apply(task, arguments);
                    }
                    q.process();
                });
            }
        },
        length: function () {
            return tasks.length;
        }
    };
    return q;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.reduce" id="apidoc.element.rdfstore.nodeunit.reduce">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>reduce
        <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function (arr, memo, iterator, callback) {
    async.forEachSeries(arr, function (x, callback) {
        iterator(memo, x, function (err, v) {
            memo = v;
            callback(err);
        });
    }, function (err) {
        callback(err, memo);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

return name + &#x27;: &#x27; + str;
}


function reduceToSingleString(output, base, braces) {
var numLinesEst = 0;
var length = output.<span class="apidocCodeKeywordSpan">reduce</span>(function(prev, cur) {
  numLinesEst++;
  if (cur.indexOf(&#x27;\n&#x27;) &#x3e;= 0) numLinesEst++;
  return prev + cur.replace(/\u001b\[\d\d?m/g, &#x27;&#x27;).length + 1;
}, 0);

if (length &#x3e; 60) {
  return braces[0] +
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.reduceRight" id="apidoc.element.rdfstore.nodeunit.reduceRight">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>reduceRight
        <span class="apidocSignatureSpan">(arr, memo, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduceRight = function (arr, memo, iterator, callback) {
    var reversed = _map(arr, function (x) {
        return x;
    }).reverse();
    async.reduce(reversed, memo, iterator, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.reject" id="apidoc.element.rdfstore.nodeunit.reject">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>reject
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reject = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEach].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
callbacks.push(callback);
this.emptyNotificationsMap[event] = callbacks;
};

Callbacks.CallbacksBackend.prototype.unsubscribeEmpty = function(event, callback) {
var callbacks = this.emptyNotificationsMap[event];
if(callbacks != null) {
	callbacks = _.<span class="apidocCodeKeywordSpan">reject</span>(callbacks, function(cb){ return cb === callback });
}
this.emptyNotificationsMap[event] = callbacks;
};

Callbacks.CallbacksBackend.prototype.subscribe = function(s,p,o,g,callback, doneCallback) {
var quad = this._tokenizeComponents(s,p,o,g);
var queryEnv = {blanks:{}, outCache:{}};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.rejectSeries" id="apidoc.element.rdfstore.nodeunit.rejectSeries">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>rejectSeries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rejectSeries = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEachSeries].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.select" id="apidoc.element.rdfstore.nodeunit.select">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>select
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">select = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEach].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Filters the variable bindings held by this {@link jQuery.rdf} object down to those listed in the bindings parameter. This mirrors
 the &#x3c;a href=&#x22;http://www.w3.org/TR/rdf-sparql-query/#select&#x22;&#x3e;SELECT&#x3c;/a&#x3e; form in SPARQL.
 * @param {String[]} [bindings] The variables that you&#x27;re interested in. The returned objects will only contain those variables
. If bindings is undefined, you will get all the variable bindings in the returned objects.
 * @returns {Object[]} An array of objects with the properties named by the bindings parameter.
 * @example
 * var filtered = rdf
 *   .where(&#x27;?photo dc:creator ?creator&#x27;)
 *   .where(&#x27;?creator foaf:img ?photo&#x27;);
 * var selected = rdf.<span class="apidocCodeKeywordSpan">select</span>([&#x27;creator&#x27;]);
 */
select: function (bindings) {
  var s = [], i, j;
  for (i = 0; i &#x3c; this.length; i += 1) {
    if (bindings === undefined) {
      s[i] = this[i];
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.selectSeries" id="apidoc.element.rdfstore.nodeunit.selectSeries">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>selectSeries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">selectSeries = function () {
    var args = Array.prototype.slice.call(arguments);
    return fn.apply(null, [async.forEachSeries].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.series" id="apidoc.element.rdfstore.nodeunit.series">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>series
        <span class="apidocSignatureSpan">(tasks, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">series = function (tasks, callback) {
    callback = callback || function () {};
    if (tasks.constructor === Array) {
        async.mapSeries(tasks, function (fn, callback) {
            if (fn) {
                fn(function (err) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    if (args.length &#x3c;= 1) {
                        args = args[0];
                    }
                    callback.call(null, err, args || null);
                });
            }
        }, callback);
    }
    else {
        var results = {};
        async.forEachSeries(_keys(tasks), function (k, callback) {
            tasks[k](function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                if (args.length &#x3c;= 1) {
                    args = args[0];
                }
                results[k] = args;
                callback(err);
            });
        }, function (err) {
            callback(err, results);
        });
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.some" id="apidoc.element.rdfstore.nodeunit.some">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>some
        <span class="apidocSignatureSpan">(arr, iterator, main_callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">some = function (arr, iterator, main_callback) {
    async.forEach(arr, function (x, callback) {
        iterator(x, function (v) {
            if (v) {
                main_callback(true);
                main_callback = function () {};
            }
            callback();
        });
    }, function (err) {
        main_callback(false);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
###Construct queries RDF Interfaces API

```javascript
var query = &#x22;CONSTRUCT { &#x3c;http://example.org/people/Alice&#x3e; ?p ?o } \
			 WHERE { &#x3c;http://example.org/people/Alice&#x3e; ?p ?o  }&#x22;;

store.execute(query, function(err, graph){
  if(graph.<span class="apidocCodeKeywordSpan">some</span>(store.rdf.filters.p(store.rdf.resolve(&#x27;foaf:name&#x27;)))) {
	nameTriples = graph.match(null,
							  store.rdf.createNamedNode(rdf.resolve(&#x27;foaf:name&#x27;)),
							  null);

	nameTriples.forEach(function(triple) {
	  console.log(triple.object.valueOf());
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.sortBy" id="apidoc.element.rdfstore.nodeunit.sortBy">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>sortBy
        <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sortBy = function (arr, iterator, callback) {
    async.map(arr, function (x, callback) {
        iterator(x, function (err, criteria) {
            if (err) {
                callback(err);
            }
            else {
                callback(null, {value: x, criteria: criteria});
            }
        });
    }, function (err, results) {
        if (err) {
            return callback(err);
        }
        else {
            var fn = function (left, right) {
                var a = left.criteria, b = right.criteria;
                return a &#x3c; b ? -1 : a &#x3e; b ? 1 : 0;
            };
            callback(null, _map(results.sort(fn), function (x) {
                return x.value;
            }));
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        f(null);
    }
});
};

Tree.prototype.walk = function(f,e) {
var that = this;
var keys = _.chain(this.data).keys().<span class="apidocCodeKeywordSpan">sortBy</span>(this.keyFun).value();

_.forEach(keys,function(key){
    var node = {&#x27;key&#x27;:key,&#x27;data&#x27;:that.data[key]};
    f(node);
    that.data[key] = node[&#x27;data&#x27;]
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.until" id="apidoc.element.rdfstore.nodeunit.until">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>until
        <span class="apidocSignatureSpan">(test, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">until = function (test, iterator, callback) {
    if (!test()) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            async.until(test, iterator, callback);
        });
    }
    else {
        callback();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

async.until = function (test, iterator, callback) {
    if (!test()) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            async.<span class="apidocCodeKeywordSpan">until</span>(test, iterator, callback);
        });
    }
    else {
        callback();
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.waterfall" id="apidoc.element.rdfstore.nodeunit.waterfall">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>waterfall
        <span class="apidocSignatureSpan">(tasks, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">waterfall = function (tasks, callback) {
    if (!tasks.length) {
        return callback();
    }
    callback = callback || function () {};
    var wrapIterator = function (iterator) {
        return function (err) {
            if (err) {
                callback(err);
                callback = function () {};
            }
            else {
                var args = Array.prototype.slice.call(arguments, 1);
                var next = iterator.next();
                if (next) {
                    args.push(wrapIterator(next));
                }
                else {
                    args.push(callback);
                }
                async.nextTick(function () {
                    iterator.apply(null, args);
                });
            }
        };
    };
    wrapIterator(async.iterator(tasks))();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// 1) Create the normalization state.

// Note: Optimize by generating non-normalized blank node map concurrently.
var nonNormalized = {};

self.<span class="apidocCodeKeywordSpan">waterfall</span>([
  function(callback) {
    // 2) For every quad in input dataset:
    self.forEach(dataset, function(triples, graphName, callback) {
      if(graphName === &#x27;@default&#x27;) {
        graphName = null;
      }
      self.forEach(triples, function(quad, idx, callback) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.nodeunit.whilst" id="apidoc.element.rdfstore.nodeunit.whilst">
        function <span class="apidocSignatureSpan">rdfstore.nodeunit.</span>whilst
        <span class="apidocSignatureSpan">(test, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">whilst = function (test, iterator, callback) {
    if (test()) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            async.whilst(test, iterator, callback);
        });
    }
    else {
        callback();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      // blank node to quads map.
      // Note: We use a map here and it was generated during step 2.

      // 4) Initialize simple, a boolean flag, to true.
      var simple = true;

      // 5) While simple is true, issue canonical identifiers for blank nodes:
      self.<span class="apidocCodeKeywordSpan">whilst</span>(function() { return simple; }, function(callback) {
// 5.1) Set simple to false.
simple = false;

// 5.2) Clear hash to blank nodes map.
self.hashToBlankNodes = {};

self.waterfall([
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.parser" id="apidoc.module.rdfstore.parser">module rdfstore.parser</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.parser.SyntaxError" id="apidoc.element.rdfstore.parser.SyntaxError">
        function <span class="apidocSignatureSpan">rdfstore.parser.</span>SyntaxError
        <span class="apidocSignatureSpan">(message, expected, found, location)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function peg$SyntaxError(message, expected, found, location) {
  this.message  = message;
  this.expected = expected;
  this.found    = found;
  this.location = location;
  this.name     = &#x22;SyntaxError&#x22;;

  if (typeof Error.captureStackTrace === &#x22;function&#x22;) {
    Error.captureStackTrace(this, peg$SyntaxError);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *   - |rightmostMatchFailuresExpected| contains at least one failure
 *
 * All code following this comment (including called functions) must
 * handle these states.
 */
if (result === null || pos !== input.length) {
  var errorPosition = computeErrorPosition();
  throw new this.<span class="apidocCodeKeywordSpan">SyntaxError</span>(
    buildErrorMessage(),
    errorPosition.line,
    errorPosition.column
  );
}

return result;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.parser.parse" id="apidoc.element.rdfstore.parser.parse">
        function <span class="apidocSignatureSpan">rdfstore.parser.</span>parse
        <span class="apidocSignatureSpan">(input, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function peg$parse(input, options) {
  options = options !== void 0 ? options : {};

  var peg$FAILED = {},

      peg$startRuleFunctions = { DOCUMENT: peg$parseDOCUMENT },
      peg$startRuleFunction  = peg$parseDOCUMENT,

      peg$c0 = peg$otherExpectation(&#x22;[1] QueryUnit&#x22;),
      peg$c1 = peg$otherExpectation(&#x22;[2] Query&#x22;),
      peg$c2 = function(p, q, v) {
          return {
      	token: &#x27;query&#x27;,
      	kind: &#x27;query&#x27;,
      	prologue: p,
      	units: [q],
      	inlineData: v
          }
      },
      peg$c3 = peg$otherExpectation(&#x22;[3] Prologue&#x22;),
      peg$c4 = function(b, pfx) {
          return { token: &#x27;prologue&#x27;,
      	base: b,
      	prefixes: pfx }
      },
      peg$c5 = peg$otherExpectation(&#x22;[4] BaseDecl&#x22;),
      peg$c6 = &#x22;BASE&#x22;,
      peg$c7 = peg$literalExpectation(&#x22;BASE&#x22;, false),
      peg$c8 = &#x22;base&#x22;,
      peg$c9 = peg$literalExpectation(&#x22;base&#x22;, false),
      peg$c10 = function(i) {
          registerDefaultPrefix(i);

          var base = {};
          base.token = &#x27;base&#x27;;
          base.value = i;

          return base;
      },
      peg$c11 = peg$otherExpectation(&#x22;[5] PrefixDecl&#x22;),
      peg$c12 = &#x22;PREFIX&#x22;,
      peg$c13 = peg$literalExpectation(&#x22;PREFIX&#x22;, false),
      peg$c14 = &#x22;prefix&#x22;,
      peg$c15 = peg$literalExpectation(&#x22;prefix&#x22;, false),
      peg$c16 = function(p, l) {

          registerPrefix(p,l);

          var prefix = {};
          prefix.token = &#x27;prefix&#x27;;
          prefix.prefix = p;
          prefix.local = l;

          return prefix;
      },
      peg$c17 = peg$otherExpectation(&#x22;[6] SelectQuery&#x22;),
      peg$c18 = function(s, gs, w, sm) {

          var dataset = {&#x27;named&#x27;:[], &#x27;implicit&#x27;:[]};
          for(var i=0; i&#x3c;gs.length; i++) {
      	var g = gs[i];
      	if(g.kind === &#x27;default&#x27;) {
      	    dataset[&#x27;implicit&#x27;].push(g.graph);
      	} else {
      	    dataset[&#x27;named&#x27;].push(g.graph)
      	}
          }


          if(dataset[&#x27;named&#x27;].length === 0 &#x26;&#x26; dataset[&#x27;implicit&#x27;].length === 0) {
      	dataset[&#x27;implicit&#x27;].push({token:&#x27;uri&#x27;,
      	    prefix:null,
      	    suffix:null,
      	    value:&#x27;https://github.com/antoniogarrote/rdfstore-js#default_graph&#x27;});
          }

          var query = {};
          query.kind = &#x27;select&#x27;;
          query.token = &#x27;executableunit&#x27;;
          query.dataset = dataset;
          query.projection = s.vars;
          query.modifier = s.modifier;
          query.pattern = w;

          if(sm!=null &#x26;&#x26; sm.limit!=null) {
      	query.limit = sm.limit;
          }
          if(sm!=null &#x26;&#x26; sm.offset!=null) {
      	query.offset = sm.offset;
          }
          if(sm!=null &#x26;&#x26; (sm.order!=null &#x26;&#x26; sm.order!=&#x22;&#x22;)) {
      	query.order = sm.order;
          }
          if(sm!=null &#x26;&#x26; sm.group!=null) {
      	query.group = sm.group;
          }

          return query;
      },
      peg$c19 = peg$otherExpectation(&#x22;[7] SubSelect&#x22;),
      peg$c20 = function(s, w, sm) {

          var query = {};
          query.kind = &#x27;select&#x27;;
          query.token = &#x27;subselect&#x27;;
          query.projection = s.vars;
          query.modifier = s.modifier;
          query.pattern = w;

          if(sm!=null &#x26;&#x26; sm.limit!=null) {
      	query.limit = sm.limit;
          }
          if(sm!=null &#x26;&#x26; sm.offset!=null) {
      	query.offset = sm.offset;
          }
          if(sm!=null &#x26;&#x26; (sm.order!=null &#x26;&#x26; sm.order!=&#x22;&#x22;)) {
      	query.order = sm.order;
          }
          if(sm!=null &#x26;&#x26; sm.group!=null) {
      	query.group = sm.group;
          }

          return query;

      },
      peg$c21 = peg$otherExpectation(&#x22;[8] SelectClause&#x22;),
      peg$c22 = &#x22;SELECT&#x22;,
      peg$c23 = peg$literalExpectation(&#x22;SELECT&#x22;, false),
      peg$c24 = &#x22;select&#x22;,
      peg$c25 = peg$literalExpectation(&#x22;select&#x22;, false),
      peg$c26 = &#x22;DISTINCT&#x22;,
      peg$c27 = peg$literalExpectation(&#x22;DISTINCT&#x22;, false),
      peg$c28 = &#x22;distinct&#x22;,
      peg$c29 = peg$literalExpectation(&#x22;distinct&#x22;, false),
      peg$c30 = &#x22;REDUCED&#x22;,
      peg$c31 = peg$literalExpectation(&#x22;REDUCED&#x22;, false),
      peg$c32 = &#x22;reduced&#x22;,
      peg$c33 = peg$literalExpectation(&#x22;reduced&#x22;, false),
      peg$c34 = &#x22;(&#x22;,
      peg$ ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var http = module.exports;
var EventEmitter = _dereq_(&#x27;events&#x27;).EventEmitter;
var Request = _dereq_(&#x27;./lib/request&#x27;);
var url = _dereq_(&#x27;url&#x27;)

http.request = function (params, cb) {
if (typeof params === &#x27;string&#x27;) {
    params = url.<span class="apidocCodeKeywordSpan">parse</span>(params)
}
if (!params) params = {};
if (!params.host &#x26;&#x26; !params.port) {
    params.port = parseInt(window.location.port, 10);
}
if (!params.host &#x26;&#x26; params.hostname) {
    params.host = params.hostname;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.persistent_lexicon" id="apidoc.module.rdfstore.persistent_lexicon">module rdfstore.persistent_lexicon</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.persistent_lexicon.PersistentLexicon" id="apidoc.element.rdfstore.persistent_lexicon.PersistentLexicon">
        function <span class="apidocSignatureSpan">rdfstore.persistent_lexicon.</span>PersistentLexicon
        <span class="apidocSignatureSpan">(callback, dbName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">PersistentLexicon = function (callback, dbName){
    var that = this;

    utils.registerIndexedDB(that);

    this.defaultGraphOid = 0;
    this.defaultGraphUri = &#x22;https://github.com/antoniogarrote/rdfstore-js#default_graph&#x22;;
    this.defaultGraphUriTerm = {&#x22;token&#x22;:&#x22;uri&#x22;,&#x22;prefix&#x22;:null,&#x22;suffix&#x22;:null,&#x22;value&#x22;:this.defaultGraphUri};
    this.oidCounter = 1;

    that.dbName = dbName || &#x22;rdfstorejs&#x22;;
    var request = that.indexedDB.open(this.dbName+&#x22;_lexicon&#x22;, 1);
    request.onerror = function(event) {
        callback(null,new Error(&#x22;Error opening IndexedDB: &#x22; + event.target.errorCode));
    };
    request.onsuccess = function(event) {
        that.db = event.target.result;
        callback(that);
    };
    request.onupgradeneeded = function(event) {
        that.db = event.target.result;

        // graphs
        var graphStore = that.db.createObjectStore(&#x27;knownGraphs&#x27;, { keyPath: &#x27;oid&#x27;});
        graphStore.createIndex(&#x22;uriToken&#x22;,&#x22;uriToken&#x22;,{unique: true});
        // uris,literal,blanks mapping
        var uriStore = that.db.createObjectStore(&#x27;components&#x27;, { keyPath: &#x27;id&#x27;, autoIncrement : true });
        uriStore.createIndex(&#x22;value&#x22;,&#x22;value&#x22;,{unique: true});

        //setTimeout(function(){ callback(that); },0);
    };

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.persistent_quad_backend" id="apidoc.module.rdfstore.persistent_quad_backend">module rdfstore.persistent_quad_backend</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.persistent_quad_backend.PersistentQuadBackend" id="apidoc.element.rdfstore.persistent_quad_backend.PersistentQuadBackend">
        function <span class="apidocSignatureSpan">rdfstore.persistent_quad_backend.</span>PersistentQuadBackend
        <span class="apidocSignatureSpan">(configuration, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">PersistentQuadBackend = function (configuration, callback) {
    var that = this;

    if (arguments !== 0) {

        utils.registerIndexedDB(that);

        this.indexMap = {};
        this.indices = [&#x27;S&#x27;,&#x27;P&#x27;,&#x27;O&#x27;,&#x27;G&#x27;,&#x27;SP&#x27;,&#x27;SO&#x27;,&#x27;SG&#x27;,&#x27;PO&#x27;,&#x27;PG&#x27;,&#x27;OG&#x27;,&#x27;SPO&#x27;,&#x27;SPG&#x27;,&#x27;SOG&#x27;,&#x27;POG&#x27;,&#x27;SPOG&#x27;]
        this.componentOrders = {
            S: [&#x27;subject&#x27;,&#x27;predicate&#x27;,&#x27;object&#x27;,&#x27;graph&#x27;],
            P: [&#x27;predicate&#x27;,&#x27;subject&#x27;,&#x27;object&#x27;,&#x27;graph&#x27;],
            O: [&#x27;object&#x27;,&#x27;subject&#x27;,&#x27;predicate&#x27;,&#x27;graph&#x27;],
            G: [&#x27;graph&#x27;,&#x27;subject&#x27;,&#x27;predicate&#x27;,&#x27;object&#x27;],
            SP: [&#x27;subject&#x27;,&#x27;predicate&#x27;,&#x27;object&#x27;,&#x27;graph&#x27;],
            SO: [&#x27;subject&#x27;, &#x27;object&#x27;,&#x27;predicate&#x27;,&#x27;graph&#x27;],
            SG: [&#x27;subject&#x27;, &#x27;graph&#x27;,&#x27;predicate&#x27;,&#x27;object&#x27;],
            PO: [&#x27;predicate&#x27;,&#x27;object&#x27;,&#x27;subject&#x27;,&#x27;graph&#x27;],
            PG: [&#x27;predicate&#x27;, &#x27;graph&#x27;,&#x27;subject&#x27;,&#x27;object&#x27;],
            OG: [&#x27;object&#x27;,&#x27;graph&#x27;,&#x27;subject&#x27;,&#x27;predicate&#x27;],
            SPO: [&#x27;subject&#x27;,&#x27;predicate&#x27;,&#x27;object&#x27;,&#x27;graph&#x27;],
            SPG: [&#x27;subject&#x27;, &#x27;predicate&#x27;, &#x27;graph&#x27;,&#x27;object&#x27;],
            SOG: [&#x27;subject&#x27;, &#x27;object&#x27;, &#x27;graph&#x27;,&#x27;predicate&#x27;],
            POG: [&#x27;predicate&#x27;, &#x27;object&#x27;, &#x27;graph&#x27;,&#x27;subject&#x27;],
            SPOG: [&#x27;subject&#x27;, &#x27;predicate&#x27;, &#x27;object&#x27;, &#x27;graph&#x27;]
        };
        this.componentOrdersMap  = {};
        for(var index in this.componentOrders) {
            var indexComponents = this.componentOrders[index];
            var key = indexComponents.slice(0,index.length).sort().join(&#x22;.&#x22;);
            this.componentOrdersMap[key] = index;
        }

        that.dbName = configuration[&#x27;name&#x27;] || &#x22;rdfstorejs&#x22;;
        var request = that.indexedDB.open(this.dbName+&#x22;_db&#x22;, 1);
        request.onerror = function(event) {
            callback(null,new Error(&#x22;Error opening IndexedDB: &#x22; + event.target.errorCode));
        };
        request.onsuccess = function(event) {
            that.db = event.target.result;
            callback(that);
        };
        request.onupgradeneeded = function(event) {
            var db = event.target.result;
            var objectStore = db.createObjectStore(that.dbName, { keyPath: &#x27;SPOG&#x27;});
            utils.each(that.indices, function(index){
                if(index !== &#x27;SPOG&#x27;) {
                    objectStore.createIndex(index,index,{unique: false});
                }
            });
        };
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.quad_backend" id="apidoc.module.rdfstore.quad_backend">module rdfstore.quad_backend</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.quad_backend.QuadBackend" id="apidoc.element.rdfstore.quad_backend.QuadBackend">
        function <span class="apidocSignatureSpan">rdfstore.quad_backend.</span>QuadBackend
        <span class="apidocSignatureSpan">(configuration, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">QuadBackend = function (configuration, callback) {
    this.indexMap = {};
    this.treeOrder = configuration[&#x27;treeOrder&#x27;];
    this.indices = (configuration[&#x22;index&#x22;] || QuadBackend.allIndices);
    this.componentOrders = QuadBackend.componentOrders;
    var that = this;

    utils.eachSeries(this.indices,function(indexKey, k){
        new QuadIndex({
            order:that.treeOrder,
            componentOrder:that.componentOrders[indexKey]
        },function (tree) {
            that.indexMap[indexKey] = tree;
            k();
        });
    },function(){
        callback(that);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

this.rdf = RDFJSInterface.rdf;
this.functionMap = {};

var that = this;
new Lexicon.Lexicon(function(lexicon){
    new QuadBackend.<span class="apidocCodeKeywordSpan">QuadBackend</span>(params, function(backend){
        params.backend = backend;
        params.lexicon =lexicon;
        that.engine = new QueryEngine.QueryEngine(params);
        if(callback) {
            callback(that);
        }
    })
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.quad_index" id="apidoc.module.rdfstore.quad_index">module rdfstore.quad_index</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.quad_index.NodeKey" id="apidoc.element.rdfstore.quad_index.NodeKey">
        function <span class="apidocSignatureSpan">rdfstore.quad_index.</span>NodeKey
        <span class="apidocSignatureSpan">(components, order)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NodeKey = function (components, order) {
    this.subject = components.subject;
    this.predicate = components.predicate;
    this.object = components.object;
    this.graph = components.graph;
    this.order = order;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    async.eachSeries(quads, function(quad,k){
        var newQuad = {};
        async.eachSeries([&#x27;subject&#x27;,&#x27;predicate&#x27;,&#x27;object&#x27;,&#x27;graph&#x27;], function(component,kk
){
registerComponent(quad, component, newQuad, kk)
        }, function(){
var originalQuad = quad;
quad = newQuad;
var key = new QuadIndex.<span class="apidocCodeKeywordSpan">NodeKey</span>(quad);

that.backend.search(key, function(result){
    if(!result) {
        that.backend.index(key, function(result){
            if(result){
                if(that.eventsOnBatchLoad)
                    that.callbacksBackend.nextGraphModification(Callbacks.added, [originalQuad,quad]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.quad_index.Pattern" id="apidoc.element.rdfstore.quad_index.Pattern">
        function <span class="apidocSignatureSpan">rdfstore.quad_index.</span>Pattern
        <span class="apidocSignatureSpan">(components)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Pattern = function (components) {
    this.subject = components.subject;
    this.predicate = components.predicate;
    this.object = components.object;
    this.graph = components.graph;
    this.indexKey = [];

    this.keyComponents = {};

    var order = [];
    var indiferent = [];
    var that = this;

    // components must have been already normalized and
    // inserted in the lexicon.
    // OIDs retrieved from the lexicon *are* numbers so
    // they can be told apart from variables (strings)
    _.forEach([&#x27;subject&#x27;, &#x27;predicate&#x27;, &#x27;object&#x27;, &#x27;graph&#x27;], function(component){
        if (typeof(that[component]) === &#x27;string&#x27;) {
            indiferent.push(component);
            that.keyComponents[component] = null;
        } else {
            order.push(component);
            that.keyComponents[component] = that[component];
            that.indexKey.push(component);
        }

    });

    this.order = order.concat(indiferent);
    this.key = new NodeKey(this.keyComponents, this.order);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};


QueryEngine.prototype.rangeQuery = function(quad, queryEnv, callback) {
var that = this;
that.normalizeQuad(quad, queryEnv, false, function(key){
    if(key != null) {
        that.backend.range(new QuadIndex.<span class="apidocCodeKeywordSpan">Pattern</span>(key), function(quads) {
            if(quads == null || quads.length == 0) {
                callback([]);
            } else {
                callback(quads);
            }
        });
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.quad_index.QuadIndex" id="apidoc.element.rdfstore.quad_index.QuadIndex">
        function <span class="apidocSignatureSpan">rdfstore.quad_index.</span>QuadIndex
        <span class="apidocSignatureSpan">(params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">QuadIndex = function (params, callback) {
    if (arguments != 0) {
        this.componentOrder = params.componentOrder;

        BaseTree.call(this, params.order, function (tree) {

            // For exact matches. Used by search.
            tree.comparator = function (a, b) {
                for (var i = 0; i &#x3c; tree.componentOrder.length; i++) {
                    var component = tree.componentOrder[i];

                    var vala = a[component];
                    var valb = b[component];

                    if (vala &#x3c; valb) {
                        return -1;
                    } else if (vala &#x3e; valb) {
                        return 1;
                    }
                }

                return 0;
            };

            // For range matches.
            tree.rangeComparator = function (a, b) {
                for (var i = 0; i &#x3c; tree.componentOrder.length; i++) {
                    var component = tree.componentOrder[i];
                    if (b[component] == null || a[component] == null) {
                        return 0;
                    } else {
                        if (a[component] &#x3c; b[component]) {
                            return -1
                        } else if (a[component] &#x3e; b[component]) {
                            return 1
                        }
                    }
                }

                return 0;
            };

            callback(tree);
        });
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.query_engine" id="apidoc.module.rdfstore.query_engine">module rdfstore.query_engine</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.query_engine.QueryEngine" id="apidoc.element.rdfstore.query_engine.QueryEngine">
        function <span class="apidocSignatureSpan">rdfstore.query_engine.</span>QueryEngine
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">QueryEngine = function (params) {
    if(arguments.length != 0) {
        this.backend = params.backend;
        this.lexicon = params.lexicon;
        // batch loads should generate events?
        this.eventsOnBatchLoad = (params.eventsOnBatchLoad || false);
        // list of namespaces that will be automatically added to every query
        this.defaultPrefixes = {};
        this.abstractQueryTree = new AbstractQueryTree();
        this.rdfLoader = new RDFLoader(params[&#x27;communication&#x27;]);
        this.callbacksBackend = new Callbacks(this);
        this.customFns = params.customFns || {};
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.functionMap = {};

    var that = this;
    new Lexicon.Lexicon(function(lexicon){
        new QuadBackend.QuadBackend(params, function(backend){
            params.backend = backend;
            params.lexicon =lexicon;
            that.engine = new QueryEngine.<span class="apidocCodeKeywordSpan">QueryEngine</span>(params);
            if(callback) {
                callback(that);
            }
        })
    });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.rdf_loader" id="apidoc.module.rdfstore.rdf_loader">module rdfstore.rdf_loader</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.rdf_loader.RDFLoader" id="apidoc.element.rdfstore.rdf_loader.RDFLoader">
        function <span class="apidocSignatureSpan">rdfstore.rdf_loader.</span>RDFLoader
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">RDFLoader = function (params) {

    this.precedences = [&#x22;text/turtle&#x22;, &#x22;text/n3&#x22;, &#x22;application/ld+json&#x22;, &#x22;application/json&#x22;];
    this.parsers = {&#x22;text/turtle&#x22;:RVN3Parser.parser, &#x22;text/n3&#x22;:RVN3Parser.parser, &#x22;application/ld+json&#x22;:JSONLDParser.parser, &#x22;application
/json&#x22;:JSONLDParser.parser};

    // Conditionally adding RDFXML parser
    if(typeof(RDFXMLParser) !== &#x27;undefined&#x27;) {
        this.precedences.push(&#x22;application/rdf+xml&#x22;);
        this.parsers[&#x22;application/rdf+xml&#x22;] = RDFXMLParser.parser;
    }

    if (params != null) {
        for (var mime in params[&#x22;parsers&#x22;]) {
            this.parsers[mime] = params[&#x22;parsers&#x22;][mime];
        }
    }

    if (params &#x26;&#x26; params[&#x22;precedences&#x22;] != null) {
        this.precedences = params[&#x22;precedences&#x22;];
        for (var mime in params[&#x22;parsers&#x22;]) {
            if (!Utils.include(this.precedences, mime)) {
                this.precedences.push(mime);
            }
        }
    }

    this.acceptHeaderValue = &#x22;&#x22;;
    for (var i = 0; i &#x3c; this.precedences.length; i++) {
        if (i != 0) {
            this.acceptHeaderValue = this.acceptHeaderValue + &#x22;,&#x22; + this.precedences[i];
        } else {
            this.acceptHeaderValue = this.acceptHeaderValue + this.precedences[i];
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

module.exports = {
    RDFLoader: RDFLoader
};


// var loader = require(&#x22;./js-communication/src/rdf_loader&#x22;).RDFLoader; loader = new loader.<span class="apidocCodeKeywordSpan
">RDFLoader</span>(); loader.load(&#x27;http://dbpedialite.org/titles/Lisp_%28programming_language%29&#x27;, function(success, results
){console.log(&#x22;hey&#x22;); console.log(success); console.log(results)})

},{&#x22;./jsonld_parser&#x22;:43,&#x22;./network_transport&#x22;:45,&#x22;./rvn3_parser&#x22;:56,&#x22;./utils&#x22;:57,&#x22;fs
&#x22;:5}],55:[function(_dereq_,module,exports){
// imports
var _ = _dereq_(&#x22;./utils&#x22;);
var QueryFilters = _dereq_(&#x22;./query_filters&#x22;).QueryFilters;

RDFModel = {};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.rdf_model" id="apidoc.module.rdfstore.rdf_model">module rdfstore.rdf_model</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.BlankNode" id="apidoc.element.rdfstore.rdf_model.BlankNode">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>BlankNode
        <span class="apidocSignatureSpan">(bnodeId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BlankNode = function (bnodeId) {
    RDFModel.RDFNode.call(this, &#x22;BlankNode&#x22;);
    this.nominalValue = &#x22;_:&#x22;+bnodeId;
    this.bnodeId = bnodeId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
for (var p in RDFModel.defaultContext) {
	this.prefixes.set(p, RDFModel.defaultContext[p]);
}
};
RDFModel.RDFEnvironment.prototype = _.create(RDFModel.Profile.prototype,{&#x27;constructor&#x27;: RDFModel.RDFEnvironment});

RDFModel.RDFEnvironment.prototype.createBlankNode = function() {
var bnode =  new RDFModel.<span class="apidocCodeKeywordSpan">BlankNode</span>(this.blankNodeCounter);
this.blankNodeCounter++;
return bnode;
};

RDFModel.RDFEnvironment.prototype.createNamedNode = function(value) {
var resolvedValue = this.resolve(value);
if(resolvedValue != null) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.Graph" id="apidoc.element.rdfstore.rdf_model.Graph">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>Graph
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Graph = function () {
    this.triples = [];
    this.duplicates = {};
    this.actions = [];
    this.length = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        aqt.projection = [{&#x22;token&#x22;: &#x22;variable&#x22;, &#x22;kind&#x22;: &#x22;*&#x22;}];
        that = this;
        this.executeSelect(aqt, queryEnv, defaultDataset, namedDataset, function(err, result){
            if(err == null) {

                that.denormalizeBindingsList(result, queryEnv, function(result){
                    if(result != null) {
var graph = new RDFModel.<span class="apidocCodeKeywordSpan">Graph</span>();

// CONSTRUCT WHERE {} case
if(aqt.template == null) {
    aqt.template = {triplesContext: aqt.pattern};
}
var blankIdCounter = 1;
var toClear = [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.Literal" id="apidoc.element.rdfstore.rdf_model.Literal">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>Literal
        <span class="apidocSignatureSpan">(value, language, datatype)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Literal = function (value, language, datatype) {
    RDFModel.RDFNode.call(this, &#x22;Literal&#x22;);
    this.nominalValue = value;
    if(language != null) {
	this.language = language;
    } else if(datatype != null) {
	this.datatype = datatype;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
} else {
	return new RDFModel.NamedNode(value);
}
};

RDFModel.RDFEnvironment.prototype.createLiteral = function(value, language, datatype) {
if(datatype != null) {
	return new RDFModel.<span class="apidocCodeKeywordSpan">Literal</span>(value, language, datatype.toString());
} else {
	return new RDFModel.Literal(value, language, datatype);
}
};

RDFModel.RDFEnvironment.prototype.createTriple = function(subject, predicate, object) {
return new RDFModel.Triple(subject, predicate, object);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.NamedNode" id="apidoc.element.rdfstore.rdf_model.NamedNode">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>NamedNode
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NamedNode = function (val) {
    RDFModel.RDFNode.call(this, &#x22;NamedNode&#x22;);
    if(val.value != null) {
	this.nominalValue = val.value;
    } else {
	this.nominalValue = val;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * @arguments:
 * @param {Function} callback function that will receive a success notification and the array of graph URIs
 */
Store.prototype.registeredGraphs = function(callback) {
    this.engine.lexicon.registeredGraphs(true, function(graphs){
	var graphNodes = _.map(graphs, function(graph){
	    return new RDFModel.<span class="apidocCodeKeywordSpan">NamedNode</span>(graph);
	});

	callback(null, graphNodes);
    });
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.Profile" id="apidoc.element.rdfstore.rdf_model.Profile">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>Profile
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Profile = function () {
    this.prefixes = new RDFModel.UrisMap();
    this.terms = new RDFModel.UrisMap();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	}
    }
};

RDFModel.RDFEnvironment.prototype.createProfile = function(empty) {
    // empty (opt);
    if(empty === true) {
	return new RDFModel.RDFEnvironment.<span class="apidocCodeKeywordSpan">Profile</span>();
    } else {
	var profile = new RDFModel.RDFEnvironment.Profile();
	profile.importProfile(this);

	return profile;
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.RDFEnvironment" id="apidoc.element.rdfstore.rdf_model.RDFEnvironment">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>RDFEnvironment
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">RDFEnvironment = function () {
    RDFModel.Profile.call(this);
    this.blankNodeCounter = 0;
    var that = this;
    this.filters = {
	s:function (s) {
	    return function (t) {
		return t.subject.equals(s);
	    };
	},
	p:function (p) {
	    return function (t) {
		return t.predicate.equals(p);
	    };
	},
	o:function (o) {
	    return function (t) {
		return t.object.equals(o);
	    };
	},
	sp:function (s, p) {
	    return function (t) {
		return t.subject.equals(s) &#x26;&#x26; t.predicate.equals(p);
	    };
	},
	so:function (s, o) {
	    return function (t) {
		return t.subject.equals(s) &#x26;&#x26; t.object.equals(o);
	    };
	},
	po:function (p, o) {
	    return function (t) {
		return t.predicate.equals(p) &#x26;&#x26; t.object.equals(o);
	    };
	},
	spo:function (s, p, o) {
	    return function (t) {
		return t.subject.equals(s) &#x26;&#x26; t.predicate.equals(p) &#x26;&#x26; t.object.equals(o);
	    };
	},
	describes:function (v) {
	    return function (t) {
		return t.subject.equals(v) || t.object.equals(v);
	    };
	},
	type:function (o) {
	    var type = that.resolve(&#x22;rdf:type&#x22;);
	    return function (t) {
		return t.predicate.equals(type) &#x26;&#x26; t.object.equals(o);
	    };
	}
    };

    for (var p in RDFModel.defaultContext) {
	this.prefixes.set(p, RDFModel.defaultContext[p]);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    return new RDFModel.NamedNode(value);
	} else {
	    return new RDFModel.NamedNode(value);
	}
    }
};

RDFModel.rdf = new RDFModel.<span class="apidocCodeKeywordSpan">RDFEnvironment</span>();

module.exports = RDFModel;

},{&#x22;./query_filters&#x22;:52,&#x22;./utils&#x22;:57}],56:[function(_dereq_,module,exports){
var N3Parser = _dereq_(&#x27;n3&#x27;).Parser;
//var N3Parser = require(&#x27;../node_modules/n3/lib/N3Parser&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.RDFNode" id="apidoc.element.rdfstore.rdf_model.RDFNode">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>RDFNode
        <span class="apidocSignatureSpan">(interfaceName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">RDFNode = function (interfaceName){
    this.interfaceName = interfaceName;
    this.attributes  = [&#x22;interfaceName&#x22;, &#x22;nominalValue&#x22;]
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.Triple" id="apidoc.element.rdfstore.rdf_model.Triple">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>Triple
        <span class="apidocSignatureSpan">(subject, predicate, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Triple = function (subject, predicate, object){
    this.subject = subject;
    this.predicate = predicate;
    this.object = object;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var bindings = [];

	_.each(triples, function(triple){
	    var s = RDFModel.buildRDFResource(triple.subject,bindings,that.engine,queryEnv);
	    var p = RDFModel.buildRDFResource(triple.predicate,bindings,that.engine,queryEnv);
	    var o = RDFModel.buildRDFResource(triple.object,bindings,that.engine,queryEnv);
	    if(s!=null &#x26;&#x26; p!=null &#x26;&#x26; o!=null) {
		triple = new RDFModel.<span class="apidocCodeKeywordSpan">Triple</span>(s,p,o);
		acum.push(triple);
	    }
	});

	callback(event,acum);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.UrisMap" id="apidoc.element.rdfstore.rdf_model.UrisMap">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>UrisMap
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">UrisMap = function () {
    this.defaultNs = &#x22;&#x22;;
    this.interfaceProperties = [&#x27;get&#x27;, &#x27;remove&#x27;, &#x27;set&#x27;, &#x27;setDefault&#x27;, &#x27;addAll&#x27;, &#x27;resolve&#x27;, &#x27;shrink&#x27;];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    return iri;
};

// Profile

RDFModel.Profile = function() {
    this.prefixes = new RDFModel.<span class="apidocCodeKeywordSpan">UrisMap</span>();
    this.terms = new RDFModel.UrisMap();
};

RDFModel.Profile.prototype.importProfile = function(profile, override) {
    this.prefixes.addAll(profile.prefixes, override);
    this.terms.addAll(profile.terms, override);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.buildBlankNode" id="apidoc.element.rdfstore.rdf_model.buildBlankNode">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>buildBlankNode
        <span class="apidocSignatureSpan">(value, bindings, engine, env)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buildBlankNode = function (value, bindings, engine, env) {
    if(value.valuetmp != null) {
	value.value = value.valuetmp;
    }
    if(value.value.indexOf(&#x22;_:&#x22;) === 0) {
	value.value = value.value.split(&#x22;_:&#x22;)[1];
    }
    return new RDFModel.BlankNode(value.value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return n3;
};

// Builders for the query engine

RDFModel.buildRDFResource = function(value, bindings, engine, env) {
    if(value.token === &#x27;blank&#x27;) {
	return RDFModel.<span class="apidocCodeKeywordSpan">buildBlankNode</span>(value, bindings, engine, env);
    } else if(value.token === &#x27;literal&#x27;) {
	return RDFModel.buildLiteral(value, bindings, engine, env);
    } else if(value.token === &#x27;uri&#x27;) {
	return RDFModel.buildNamedNode(value, bindings, engine, env);
    } else if(value.token === &#x27;var&#x27;) {
	var result = bindings[value.value];
	if(result != null) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.buildLiteral" id="apidoc.element.rdfstore.rdf_model.buildLiteral">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>buildLiteral
        <span class="apidocSignatureSpan">(value, bindings, engine, env)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buildLiteral = function (value, bindings, engine, env) {
    return new RDFModel.Literal(value.value, value.lang, value.type);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Builders for the query engine

RDFModel.buildRDFResource = function(value, bindings, engine, env) {
    if(value.token === &#x27;blank&#x27;) {
	return RDFModel.buildBlankNode(value, bindings, engine, env);
    } else if(value.token === &#x27;literal&#x27;) {
	return RDFModel.<span class="apidocCodeKeywordSpan">buildLiteral</span>(value, bindings, engine, env);
    } else if(value.token === &#x27;uri&#x27;) {
	return RDFModel.buildNamedNode(value, bindings, engine, env);
    } else if(value.token === &#x27;var&#x27;) {
	var result = bindings[value.value];
	if(result != null) {
	    return RDFModel.buildRDFResource(result, bindings, engine, env);
	} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.buildNamedNode" id="apidoc.element.rdfstore.rdf_model.buildNamedNode">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>buildNamedNode
        <span class="apidocSignatureSpan">(value, bindings, engine, env)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buildNamedNode = function (value, bindings, engine, env) {
    if(value.value != null) {
	return new RDFModel.NamedNode(value);
    } else {
	if(value.prefix != null) {
	    var prefix = engine.resolveNsInEnvironment(value.prefix, env);
	    value.value = prefix+value.suffix;
	    return new RDFModel.NamedNode(value);
	} else {
	    return new RDFModel.NamedNode(value);
	}
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

RDFModel.buildRDFResource = function(value, bindings, engine, env) {
    if(value.token === &#x27;blank&#x27;) {
	return RDFModel.buildBlankNode(value, bindings, engine, env);
    } else if(value.token === &#x27;literal&#x27;) {
	return RDFModel.buildLiteral(value, bindings, engine, env);
    } else if(value.token === &#x27;uri&#x27;) {
	return RDFModel.<span class="apidocCodeKeywordSpan">buildNamedNode</span>(value, bindings, engine, env);
    } else if(value.token === &#x27;var&#x27;) {
	var result = bindings[value.value];
	if(result != null) {
	    return RDFModel.buildRDFResource(result, bindings, engine, env);
	} else {
	    return null;
	}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdf_model.buildRDFResource" id="apidoc.element.rdfstore.rdf_model.buildRDFResource">
        function <span class="apidocSignatureSpan">rdfstore.rdf_model.</span>buildRDFResource
        <span class="apidocSignatureSpan">(value, bindings, engine, env)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buildRDFResource = function (value, bindings, engine, env) {
    if(value.token === &#x27;blank&#x27;) {
	return RDFModel.buildBlankNode(value, bindings, engine, env);
    } else if(value.token === &#x27;literal&#x27;) {
	return RDFModel.buildLiteral(value, bindings, engine, env);
    } else if(value.token === &#x27;uri&#x27;) {
	return RDFModel.buildNamedNode(value, bindings, engine, env);
    } else if(value.token === &#x27;var&#x27;) {
	var result = bindings[value.value];
	if(result != null) {
	    return RDFModel.buildRDFResource(result, bindings, engine, env);
	} else {
	    return null;
	}
    } else {
	return null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var that = this;
    var adapterCb = function(event,triples){
	var acum = [];
	var queryEnv = {blanks:{}, outCache:{}};
	var bindings = [];

	_.each(triples, function(triple){
	    var s = RDFModel.<span class="apidocCodeKeywordSpan">buildRDFResource</span>(triple.subject,bindings,that.engine,queryEnv);
	    var p = RDFModel.buildRDFResource(triple.predicate,bindings,that.engine,queryEnv);
	    var o = RDFModel.buildRDFResource(triple.object,bindings,that.engine,queryEnv);
	    if(s!=null &#x26;&#x26; p!=null &#x26;&#x26; o!=null) {
		triple = new RDFModel.Triple(s,p,o);
		acum.push(triple);
	    }
	});
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.rdfstore" id="apidoc.module.rdfstore.rdfstore">module rdfstore.rdfstore</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.rdfstore.Store" id="apidoc.element.rdfstore.rdfstore.Store">
        function <span class="apidocSignatureSpan">rdfstore.rdfstore.</span>Store
        <span class="apidocSignatureSpan">(arg1, arg2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Store = function (arg1, arg2) {
    var callback = null;
    var params   = null;

    if(arguments.length == 0) {
		params ={};
    } else if(arguments.length == 1) {
		params   = {};
		callback = arg1;
    } else if(arguments.length &#x3e; 1) {
		params   = arg1;
		callback = arg2;
    } else {
	throw(&#x22;An optional argument map and a callback must be provided&#x22;);
    }

    if(params[&#x27;treeOrder&#x27;] == null) {
		params[&#x27;treeOrder&#x27;] = 15;
    }

    var Lexicon = InMemoryLexicon;
    var QuadBackend = InMemoryQuadBackend;
    if(params[&#x27;persistent&#x27;] === true){
		Lexicon = PersistentLexicon;
		QuadBackend = PersistentBackend;
    }
    this.functionMap = {};

    var that = this;
    this.customFns = {};
    new Lexicon(function(lexicon){
	var createQuadBackend = function() {
	    new QuadBackend(params, function (backend) {
		var createEngine = function() {
		    params.backend = backend;
		    params.lexicon = lexicon;
		    that.engine = new QueryEngine(params);

		    callback(null, that);
		};
		if(params[&#x27;overwrite&#x27;]) {
		    backend.clear(createEngine)
		} else {
		    createEngine();
		}
	    });
	};
	if(params[&#x27;overwrite&#x27;] === true) {
	    // delete lexicon values
	    lexicon.clear(createQuadBackend);
	} else {
	    createQuadBackend();
	}

    },params[&#x27;name&#x27;]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// alt 1
rdfstore.create(function(err, store) {
  // the new store is ready
});


// alt 2
new rdfstore.<span class="apidocCodeKeywordSpan">Store</span>(function(err, store) {
  // the new store is ready
});
```

###Query execution

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdfstore.connect" id="apidoc.element.rdfstore.rdfstore.connect">
        function <span class="apidocSignatureSpan">rdfstore.rdfstore.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function () {
    var callback;
    if(arguments.length == 1) {
		callback = arguments[0];
    } else if(arguments.length == 2) {
		callback = arguments[1];
	} else {
	callback = arguments[2];
    }
    callback(new Error(&#x22;Store#connect is not supported in the 0.9.X series of the library&#x22;));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.rdfstore.create" id="apidoc.element.rdfstore.rdfstore.create">
        function <span class="apidocSignatureSpan">rdfstore.rdfstore.</span>create
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (){
    if(arguments.length == 1) {
	return new Store(arguments[0]);
    } else if(arguments.length == 2) {
	return new Store(arguments[0], arguments[1]);
    } else {
	return new Store();
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Introduction

rdfstore-js is a pure Javascript implementation of a RDF graph store with support for the SPARQL query and data manipulation language
.
```javascript
var rdfstore = require(&#x27;rdfstore&#x27;);

rdfstore.<span class="apidocCodeKeywordSpan">create</span>(function(err, store) {
  store.execute(&#x27;LOAD &#x3c;http://dbpedia.org/resource/Tim_Berners-Lee&#x3e; INTO GRAPH &#x3c;http://example.org/people&#x3e
;&#x27;, function() {

	store.setPrefix(&#x27;dbp&#x27;, &#x27;http://dbpedia.org/resource/&#x27;);

	store.node(store.rdf.resolve(&#x27;dbp:Tim_Berners-Lee&#x27;),  &#x22;http://example.org/people&#x22;, function(err, graph) {

	  var peopleGraph = graph.filter(store.rdf.filters.type(store.rdf.resolve(&#x22;foaf:Person&#x22;)));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rdfstore.utils" id="apidoc.module.rdfstore.utils">module rdfstore.utils</a></h1>


    <h2>
        <a href="#apidoc.element.rdfstore.utils.clone" id="apidoc.element.rdfstore.utils.clone">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>clone
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function (value) {
    return JSON.parse(JSON.stringify(value));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  _isArray(localCtx[&#x27;@context&#x27;])) {
  localCtx = localCtx[&#x27;@context&#x27;];
}
var ctxs = _isArray(localCtx) ? localCtx : [localCtx];

// no contexts in array, clone existing context
if(ctxs.length === 0) {
  return activeCtx.<span class="apidocCodeKeywordSpan">clone</span>();
}

// process each context in order, update active context
// on each iteration to ensure proper caching
var rval = activeCtx;
for(var i = 0; i &#x3c; ctxs.length; ++i) {
  var ctx = ctxs[i];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.compareDateComponents" id="apidoc.element.rdfstore.utils.compareDateComponents">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>compareDateComponents
        <span class="apidocSignatureSpan">(stra, strb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compareDateComponents = function (stra, strb) {
    var dateA = parseISO8601(stra);
    var dateB = parseISO8601(strb);

    if(dateA == dateB) {
        return 0;
    } else if(dateA &#x3c; dateB) {
        return -1;
    } else {
        return 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if(QueryFilters.isXsdType(&#x22;dateTime&#x22;, op1) &#x26;&#x26; QueryFilters.isXsdType(&#x22;date&#x22;, op2)) {
    return QueryFilters.ebvFalse();
}
if(QueryFilters.isXsdType(&#x22;date&#x22;, op1) &#x26;&#x26; QueryFilters.isXsdType(&#x22;dateTime&#x22;, op2)) {
    return QueryFilters.ebvFalse();
}

var comp = Utils.<span class="apidocCodeKeywordSpan">compareDateComponents</span>(op1.value, op2.value);
if(comp != null) {
    if(comp == 0) {
        return QueryFilters.ebvTrue();
    } else {
        return QueryFilters.ebvFalse();
    }
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.create" id="apidoc.element.rdfstore.utils.create">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>create
        <span class="apidocSignatureSpan">(prototype)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (prototype) {
    if (isObject(prototype)) {
        Object.prototype = prototype;
        var result = new Object;
        Object.prototype = null;
    }
    return result || Object();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Introduction

rdfstore-js is a pure Javascript implementation of a RDF graph store with support for the SPARQL query and data manipulation language
.
```javascript
var rdfstore = require(&#x27;rdfstore&#x27;);

rdfstore.<span class="apidocCodeKeywordSpan">create</span>(function(err, store) {
  store.execute(&#x27;LOAD &#x3c;http://dbpedia.org/resource/Tim_Berners-Lee&#x3e; INTO GRAPH &#x3c;http://example.org/people&#x3e
;&#x27;, function() {

	store.setPrefix(&#x27;dbp&#x27;, &#x27;http://dbpedia.org/resource/&#x27;);

	store.node(store.rdf.resolve(&#x27;dbp:Tim_Berners-Lee&#x27;),  &#x22;http://example.org/people&#x22;, function(err, graph) {

	  var peopleGraph = graph.filter(store.rdf.filters.type(store.rdf.resolve(&#x22;foaf:Person&#x22;)));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.each" id="apidoc.element.rdfstore.utils.each">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>each
        <span class="apidocSignatureSpan">(xs, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (xs, f) {
    if(xs.forEach) {
        xs.forEach(f);
    } else {
        for (var i = 0; i &#x3c; xs.length; i++)
            f(xs[i]);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Store.prototype.subscribe = function(s, p, o, g, callback) {
    var that = this;
    var adapterCb = function(event,triples){
	var acum = [];
	var queryEnv = {blanks:{}, outCache:{}};
	var bindings = [];

	_.<span class="apidocCodeKeywordSpan">each</span>(triples, function(triple){
	    var s = RDFModel.buildRDFResource(triple.subject,bindings,that.engine,queryEnv);
	    var p = RDFModel.buildRDFResource(triple.predicate,bindings,that.engine,queryEnv);
	    var o = RDFModel.buildRDFResource(triple.object,bindings,that.engine,queryEnv);
	    if(s!=null &#x26;&#x26; p!=null &#x26;&#x26; o!=null) {
		triple = new RDFModel.Triple(s,p,o);
		acum.push(triple);
	    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.eachParallel" id="apidoc.element.rdfstore.utils.eachParallel">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>eachParallel
        <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eachParallel = function (arr, iterator, callback) {
    callback = callback || function () {};
    if (!arr.length) {
        return callback();
    }
    var failed = false;
    var completed = 0;

    var innerCallback = function(err) {
        if(err) {
            failed = true;
            throw(new Error(err));
        }

        if(!failed) {
            completed++;
            if(completed === arr.length)
                callback();
        }
    };


    for(var i=0; i&#x3c;arr.length; i++) {
        (function(arr,i,callback,iterator) {
            nextTick(function(){
                try {
                    iterator(arr[i], function () {
                        callback();
                    })
                } catch (e) {
                    callback(e);
                }
            });
        })(arr,i,innerCallback,iterator)
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    expect(values[0]).toBe(1);
    expect(values[1]).toBe(&#x27;c&#x27;);
    done();
})

it(&#x22;Should compute parallel computations&#x22;, function(done) {
    var totals = {};
    Utils.<span class="apidocCodeKeywordSpan">eachParallel</span>([1,2,3,4], function(i,k){
        totals[i] = i;
        k();
    }, function() {
        expect(totals[1]).toBe(1);
        expect(totals[2]).toBe(2);
        expect(totals[3]).toBe(3);
        expect(totals[4]).toBe(4);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.eachSeries" id="apidoc.element.rdfstore.utils.eachSeries">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>eachSeries
        <span class="apidocSignatureSpan">(arr, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eachSeries = function (arr, iterator, callback) {
    callback = callback || function () {};
    if (!arr.length) {
        return callback();
    }
    var completed = 0;
    var iterate = function () {
        iterator(arr[completed], function (err) {
            if (err) {
                callback(err);
                callback = function () {};
            }
            else {
                completed += 1;
                if (completed &#x3e;= arr.length) {
                    callback();
                }
                else {
                    nextTick(iterate);
                }
            }
        });
    };
    iterate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var counter = this.queryCounter;
    this.queryCounter++;
    this.queriesMap[counter] = query;
    this.queriesInverseMap[query] = counter;
    this.queriesList.push(counter);
    this.queriesCallbacksMap[counter] = callback;

    async.<span class="apidocCodeKeywordSpan">eachSeries</span>(patterns, function(quad, k) {
	if(quad.graph == null) {
	    quad.graph = that.engine.lexicon.defaultGraphUriTerm;
	}

	that.engine.normalizeQuad(quad, queryEnv, true, function(normalized) {
	    var pattern =  new Pattern(normalized);
	    var indexKey = that._indexForPattern(pattern);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.forEach" id="apidoc.element.rdfstore.utils.forEach">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>forEach
        <span class="apidocSignatureSpan">(xs, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEach = function (xs, f) {
    if(xs.forEach) {
        xs.forEach(f);
    } else {
        for (var i = 0; i &#x3c; xs.length; i++)
            f(xs[i]);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

store.execute(query, function(err, graph){
  if(graph.some(store.rdf.filters.p(store.rdf.resolve(&#x27;foaf:name&#x27;)))) {
	nameTriples = graph.match(null,
							  store.rdf.createNamedNode(rdf.resolve(&#x27;foaf:name&#x27;)),
							  null);

	nameTriples.<span class="apidocCodeKeywordSpan">forEach</span>(function(triple) {
	  console.log(triple.object.valueOf());
	});
  }
});
```

###Loading remote graphs
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.guid" id="apidoc.element.rdfstore.utils.guid">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>guid
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">guid = function () {
    function s4() {
        return Math.floor((1 + Math.random()) * 0x10000)
            .toString(16)
            .substring(1);
    }
    return s4() + s4() + &#x27;-&#x27; + s4() + &#x27;-&#x27; + s4() + &#x27;-&#x27; +
        s4() + &#x27;-&#x27; + s4() + s4() + s4();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.hasTerm" id="apidoc.element.rdfstore.utils.hasTerm">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>hasTerm
        <span class="apidocSignatureSpan">(term)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasTerm = function (term) {
    try {
        if(term == null) {
            return &#x22;&#x22;;
        } if(term.token===&#x27;uri&#x27;) {
            return &#x22;u&#x22;+term.value;
        } else if(term.token === &#x27;blank&#x27;) {
            return &#x22;b&#x22;+term.value;
        } else if(term.token === &#x27;literal&#x27;) {
            var l = &#x22;l&#x22;+term.value;
            l = l + (term.type || &#x22;&#x22;);
            l = l + (term.lang || &#x22;&#x22;);

            return l;
        }
    } catch(e) {
        if(typeof(term) === &#x27;object&#x27;) {
            var key = &#x22;&#x22;;
            for(p in term) {
                key = key + p + term[p];
            }

            return key;
        }
        return term;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.hashTerm" id="apidoc.element.rdfstore.utils.hashTerm">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>hashTerm
        <span class="apidocSignatureSpan">(term)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hashTerm = function (term) {
    try {
        if(term == null) {
            return &#x22;&#x22;;
        } if(term.token===&#x27;uri&#x27;) {
            return &#x22;u&#x22;+term.value;
        } else if(term.token === &#x27;blank&#x27;) {
            return &#x22;b&#x22;+term.value;
        } else if(term.token === &#x27;literal&#x27;) {
            var l = &#x22;l&#x22;+term.value;
            l = l + (term.type || &#x22;&#x22;);
            l = l + (term.lang || &#x22;&#x22;);

            return l;
        }
    } catch(e) {
        if(typeof(term) === &#x27;object&#x27;) {
            var key = &#x22;&#x22;;
            for(p in term) {
                key = key + p + term[p];
            }

            return key;
        }
        return term;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            } else if(aggregator.expression.aggregateType === &#x27;count&#x27;) {
var distinct = {};
var count = 0;
if(aggregator.expression.expression === &#x27;*&#x27;) {
    if(aggregator.expression.distinct != null &#x26;&#x26; aggregator.expression.distinct != &#x27;&#x27;) {
        for(var i=0; i&#x3c; bindingsGroup.length; i++) {
            var bindings = bindingsGroup[i];
            var key = Utils.<span class="apidocCodeKeywordSpan">hashTerm</span>(bindings);
            if(distinct[key] == null) {
                distinct[key] = true;
                count++;
            }
        }
    } else {
        count = bindingsGroup.length;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.include" id="apidoc.element.rdfstore.utils.include">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>include
        <span class="apidocSignatureSpan">(xs, p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">include = function (xs, p) {
    for(var i=0; i&#x3c;xs.length; i++){
        if(xs[i] === p)
            return true;
    }

    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var indexKey = pattern.indexKey;
var matchingIndices = this.indices;

for(var i=0; i&#x3c;matchingIndices.length; i++) {
	var index = matchingIndices[i];
	var indexComponents = this.componentOrders[index];
	for(var j=0; j&#x3c;indexComponents.length; j++) {
	    if(_.<span class="apidocCodeKeywordSpan">include</span>(indexKey, indexComponents[j])===false) {
		break;
	    }
	    if(j==indexKey.length-1) {
		return index;
	    }
	}
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.isWorker" id="apidoc.element.rdfstore.utils.isWorker">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>isWorker
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isWorker = function () {
    if(typeof(process) === &#x22;undefined&#x22; || process.browser === true) {
        if (typeof(window) === &#x22;undefined&#x22;) {
            return true;
        } else {
            return false;
        }
    } else {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

module.exports = {
    Lexicon: Lexicon
};

},{&#x22;./btree&#x22;:40,&#x22;./utils&#x22;:57}],45:[function(_dereq_,module,exports){
var utils = _dereq_(&#x22;./utils&#x22;);
if(!utils.<span class="apidocCodeKeywordSpan">isWorker</span>()) {
    var http = _dereq_(&#x22;http&#x22;);
    var https = _dereq_(&#x22;https&#x22;);
    var url = _dereq_(&#x22;url&#x22;);

    NetworkTransport = {

load: function (uri, accept, callback, redirect) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.iso8601" id="apidoc.element.rdfstore.utils.iso8601">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>iso8601
        <span class="apidocSignatureSpan">(date)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">iso8601 = function (date) {
    return date.toISOString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        from.value = &#x27;false&#x27;;
    }
    return from;
} else if(from.type == xmlSchema+&#x22;dateTime&#x22; ||
    from.type == xmlSchema+&#x22;date&#x22;) {
    from.type = fun;
    if(typeof(from.value) != &#x27;string&#x27;) {
        from.value = Utils.<span class="apidocCodeKeywordSpan">iso8601</span>(from.value);
    }
    return from;
} else if(from.type == null) {
    from.value = &#x22;&#x22;+from.value;
    from.type = fun;
    return from;
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.keys" id="apidoc.element.rdfstore.utils.keys">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>keys
        <span class="apidocSignatureSpan">(xs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">keys = function (xs) {
    var acc = [];
    for(var p in xs)
        acc.push(p);
    return acc;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if(!_isArray(ctx)) {
  ctx = [ctx];
}
// remove empty contexts
var tmp = ctx;
ctx = [];
for(var i = 0; i &#x3c; tmp.length; ++i) {
  if(!_isObject(tmp[i]) || Object.<span class="apidocCodeKeywordSpan">keys</span>(tmp[i]).length &#x3e; 0) {
    ctx.push(tmp[i]);
  }
}

// remove array if only one context
var hasContext = (ctx.length &#x3e; 0);
if(ctx.length === 1) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.lexicalFormBaseUri" id="apidoc.element.rdfstore.utils.lexicalFormBaseUri">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>lexicalFormBaseUri
        <span class="apidocSignatureSpan">(term, env)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lexicalFormBaseUri = function (term, env) {
    var uri = null;
    env = env || {};
    if(term.value == null) {
        // URI has prefix and suffix, we&#x27;ll try to resolve it.
        var prefix = term.prefix;
        var suffix = term.suffix;
        var resolvedPrefix = env.namespaces[prefix];
        if(resolvedPrefix != null) {
            uri = resolvedPrefix+suffix;
        } else {
            uri = prefix+&#x22;:&#x22;+suffix;
        }
    } else {
        // URI is not prefixed
        uri = term.value;
    }

    if(uri===null) {
        return null;
    } else {
        // Should we apply the base URI namespace?
        if(uri.indexOf(&#x22;:&#x22;) == -1) {
            uri = (env.base||&#x22;&#x22;) + uri; // applyBaseUri
        }
    }

    return uri;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
QueryEngine.prototype.resolveNsInEnvironment = function(prefix, env) {
var namespaces = env.namespaces;
return namespaces[prefix];
};

QueryEngine.prototype.normalizeTerm = function(term, env, shouldIndex, callback) {
if(term.token === &#x27;uri&#x27;) {
    var uri = Utils.<span class="apidocCodeKeywordSpan">lexicalFormBaseUri</span>(term, env);
    if(uri == null) {
        callback(null);
    } else {
        if(shouldIndex) {
            this.lexicon.registerUri(uri,callback);
        } else {
            this.lexicon.resolveUri(uri,callback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.lexicalFormLiteral" id="apidoc.element.rdfstore.utils.lexicalFormLiteral">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>lexicalFormLiteral
        <span class="apidocSignatureSpan">(term, env)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lexicalFormLiteral = function (term, env) {
    var value = term.value;
    var lang = term.lang;
    var type = term.type;

    var indexedValue = null;
    if(value != null &#x26;&#x26; type != null &#x26;&#x26; typeof(type) != &#x27;string&#x27;) {
        var typeValue = type.value;

        if(typeValue == null) {
            var typePrefix = type.prefix;
            var typeSuffix = type.suffix;

            var resolvedPrefix = env.namespaces[typePrefix];
            term.type = resolvedPrefix+typeSuffix;
            typeValue = resolvedPrefix+typeSuffix;
        }
        // normalization
        if(typeValue.indexOf(&#x27;hexBinary&#x27;) != -1) {
            indexedValue = &#x27;&#x22;&#x27; + term.value.toLowerCase() + &#x27;&#x22;^^&#x3c;&#x27; + typeValue + &#x27;&#x3e;&#x27;;
        } else {
            indexedValue = &#x27;&#x22;&#x27; + term.value + &#x27;&#x22;^^&#x3c;&#x27; + typeValue + &#x27;&#x3e;&#x27;;
        }
    } else {
        if(lang == null &#x26;&#x26; type == null) {
            indexedValue = &#x27;&#x22;&#x27; + value + &#x27;&#x22;&#x27;;
        } else if(type == null) {
            indexedValue = &#x27;&#x22;&#x27; + value + &#x27;&#x22;&#x27; + &#x22;@&#x22; + lang;
        } else {
            // normalization
            if(type.indexOf(&#x27;hexBinary&#x27;) != -1) {
                indexedValue = &#x27;&#x22;&#x27; + term.value.toLowerCase() + &#x27;&#x22;^^&#x3c;&#x27;+type+&#x27;&#x3e;&#x27;;
            } else {
                indexedValue = &#x27;&#x22;&#x27; + term.value + &#x27;&#x22;^^&#x3c;&#x27;+type+&#x27;&#x3e;&#x27;;
            }
        }
    }
    return indexedValue;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            this.lexicon.registerUri(uri,callback);
        } else {
            this.lexicon.resolveUri(uri,callback);
        }
    }

} else if(term.token === &#x27;literal&#x27;) {
    var lexicalFormLiteral = Utils.<span class="apidocCodeKeywordSpan">lexicalFormLiteral</span>(term, env);
    if(shouldIndex) {
        this.lexicon.registerLiteral(lexicalFormLiteral,callback);
    } else {
        this.lexicon.resolveLiteral(lexicalFormLiteral,callback);
    }
} else if(term.token === &#x27;blank&#x27;) {
    var label = term.value;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.map" id="apidoc.element.rdfstore.utils.map">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>map
        <span class="apidocSignatureSpan">(xs, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (xs, f) {
    if(xs.map) {
        return xs.map(f);
    } else {
        var acc = [];
        for (var i = 0; i &#x3c; xs.length; i++)
            acc[i] = f(xs[i]);

        return acc;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  obj = undefined;
}

if (typeof obj === &#x27;object&#x27;) {
  return map(objectKeys(obj), function(k) {
    var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
    if (isArray(obj[k])) {
      return obj[k].<span class="apidocCodeKeywordSpan">map</span>(function(v) {
        return ks + encodeURIComponent(stringifyPrimitive(v));
      }).join(sep);
    } else {
      return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
    }
  }).join(sep);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.nextTick" id="apidoc.element.rdfstore.utils.nextTick">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>nextTick
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextTick = function (f) {
    spin++;
    if(spin &#x3c; yieldFrequency) {
        f();
    } else {
        spin = 0;
        slowNextTick(f);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *          [skipExpansion] true to assume the input is expanded and skip
 *            expansion, false not to, defaults to false.
 *          [documentLoader(url, callback(err, remoteDoc))] the document loader.
 * @param callback(err, compacted, ctx) called once the operation completes.
 */
jsonld.compact = function(input, ctx, options, callback) {
if(arguments.length &#x3c; 2) {
  return jsonld.<span class="apidocCodeKeywordSpan">nextTick</span>(function() {
    callback(new TypeError(&#x27;Could not compact, too few arguments.&#x27;));
  });
}

// get arguments
if(typeof options === &#x27;function&#x27;) {
  callback = options;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.normalizeUnicodeLiterals" id="apidoc.element.rdfstore.utils.normalizeUnicodeLiterals">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>normalizeUnicodeLiterals
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalizeUnicodeLiterals = function (string) {
    var escapedUnicode = string.match(/\\u[0-9abcdefABCDEF]{4,4}/g) || [];
    var dups = {};
    for (var i = 0; i &#x3c; escapedUnicode.length; i++) {
        if (dups[escapedUnicode[i]] == null) {
            dups[escapedUnicode[i]] = true;
            string = string.replace(new RegExp(&#x22;\\&#x22; + escapedUnicode[i], &#x22;g&#x22;), eval(&#x22;&#x27;&#x22; + escapedUnicode[i] + &#x22;&#x27;&#x22;));
        }
    }

    return string;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
};

// Queries execution

QueryEngine.prototype.execute = function(queryString, callback, defaultDataset, namedDataset){
//try{
    queryString = Utils.<span class="apidocCodeKeywordSpan">normalizeUnicodeLiterals</span>(queryString);
    var syntaxTree = this.abstractQueryTree.parseQueryString(queryString);
    if(syntaxTree == null) {
        callback(false,&#x22;Error parsing query string&#x22;);
    } else {
        if(syntaxTree.token === &#x27;query&#x27; &#x26;&#x26; syntaxTree.kind == &#x27;update&#x27;)  {
            this.callbacksBackend.startGraphModification();
            var that = this;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.parseISO8601" id="apidoc.element.rdfstore.utils.parseISO8601">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>parseISO8601
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseISO8601 = function (str) {
    return Date.parse(str);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    //    return false;
    //} else {
    return tmp;
    //}
} else if (val.type == xmlSchema+&#x22;date&#x22; ||
    val.type == xmlSchema+&#x22;dateTime&#x22; ) {
    try {
        var d = Utils.<span class="apidocCodeKeywordSpan">parseISO8601</span>(val.value);
        return(d);
    } catch(e) {
        return null;
    }
} else if (val.type == xmlSchema+&#x22;boolean&#x22; ) {
    return val.value === true || val.value === &#x27;true&#x27; || val.value === &#x27;1&#x27; || val.value === 1 || val.value ===
true ? true :
        val.value === false || val.value === &#x27;false&#x27; || val.value === &#x27;0&#x27; || val.value === 0 || val.value ===
false ? false :
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.registerIndexedDB" id="apidoc.element.rdfstore.utils.registerIndexedDB">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>registerIndexedDB
        <span class="apidocSignatureSpan">(that)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerIndexedDB = function (that) {
    if(typeof(window) === &#x27;undefined&#x27; &#x26;&#x26; typeof(process) !== &#x22;undefined&#x22; &#x26;&#x26; process.browser === false) {
        var sqlite3 = _dereq_(&#x27;sqlite3&#x27;)
        var indexeddbjs = _dereq_(&#x22;indexeddb-js&#x22;);
        var engine    = new sqlite3.Database(&#x27;:memory:&#x27;);
        var scope     = indexeddbjs.makeScope(&#x27;sqlite3&#x27;, engine);
        that.indexedDB = scope.indexedDB;
        that.IDBKeyRange = scope.IDBKeyRange;
    } else {
        // In the following line, you should include the prefixes of implementations you want to test.
        var context
        if(typeof(window) === &#x22;undefined&#x22;) {
            context = self;
        } else {
            context = window;
        }

        context.indexedDB = context.indexedDB || context.mozIndexedDB || context.webkitIndexedDB || context.msIndexedDB;
        context.IDBKeyRange = context.IDBKeyRange || context.webkitIDBKeyRange || context.msIDBKeyRange;
        // DON&#x27;T use &#x22;var indexedDB = ...&#x22; if you&#x27;re not in a function.
        // Moreover, you may need references to some window.IDB* objects:
        if (!context.indexedDB) {
            console.log(&#x22;The browser does not support IndexDB.&#x22;);
        } else {
            that.indexedDB = context.indexedDB;
            that.IDBKeyRange = context.IDBKeyRange;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Temporal implementation of the lexicon
 */


PersistentLexicon = function(callback, dbName){
var that = this;

utils.<span class="apidocCodeKeywordSpan">registerIndexedDB</span>(that);

this.defaultGraphOid = 0;
this.defaultGraphUri = &#x22;https://github.com/antoniogarrote/rdfstore-js#default_graph&#x22;;
this.defaultGraphUriTerm = {&#x22;token&#x22;:&#x22;uri&#x22;,&#x22;prefix&#x22;:null,&#x22;suffix&#x22;:null,&#x22;value&#x22;:
this.defaultGraphUri};
this.oidCounter = 1;

that.dbName = dbName || &#x22;rdfstorejs&#x22;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.reject" id="apidoc.element.rdfstore.utils.reject">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>reject
        <span class="apidocSignatureSpan">(xs, p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reject = function (xs, p) {
    var acc = [];
    for(var i=0; i&#x3c;xs.length; i++) {
        if(p(xs[i])) {
            acc.push(xs[i]);
        }
    }

    return acc;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
callbacks.push(callback);
this.emptyNotificationsMap[event] = callbacks;
};

Callbacks.CallbacksBackend.prototype.unsubscribeEmpty = function(event, callback) {
var callbacks = this.emptyNotificationsMap[event];
if(callbacks != null) {
	callbacks = _.<span class="apidocCodeKeywordSpan">reject</span>(callbacks, function(cb){ return cb === callback });
}
this.emptyNotificationsMap[event] = callbacks;
};

Callbacks.CallbacksBackend.prototype.subscribe = function(s,p,o,g,callback, doneCallback) {
var quad = this._tokenizeComponents(s,p,o,g);
var queryEnv = {blanks:{}, outCache:{}};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.remove" id="apidoc.element.rdfstore.utils.remove">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>remove
        <span class="apidocSignatureSpan">(xs, p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (xs, p) {
    var acc = [];
    for(var i=0; i&#x3c;xs.length; i++) {
        if(p(xs[i])) {
            acc.push(xs[i]);
        }
    }

    return acc;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			var p = RDFModel.buildRDFResource(triple.predicate,bindings,that.engine,queryEnv);
			var o = RDFModel.buildRDFResource(triple.object,bindings,that.engine,queryEnv);
			if(s!=null &#x26;&#x26; p!=null &#x26;&#x26; o!=null) {
			    triple = new RDFModel.Triple(s,p,o);
			    if(event === Callbacks[&#x27;added&#x27;]) {
				node.add(triple);
			    } else if(event === Callbacks[&#x27;deleted&#x27;]) {
				node.<span class="apidocCodeKeywordSpan">remove</span>(triple);
			    }
			}
		    }
		}
	    };
	    that.observersMap[callback] = observer;
	    that.subscribeEmpty(Callbacks[&#x27;eventsFlushed&#x27;], observer);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.seq" id="apidoc.element.rdfstore.utils.seq">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>seq
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">seq = function () {
    var fns = arguments;
    return function () {
        var that = this;
        var args = Array.prototype.slice.call(arguments);
        var callback = args.pop();
        reduce(fns, args, function (newargs, fn, cb) {
                fn.apply(that, newargs.concat([function () {
                    var err = arguments[0];
                    var nextargs = Array.prototype.slice.call(arguments, 1);
                    cb(err, nextargs);
                }]));
            },
            function (err, results) {
                callback.apply(that, [err].concat(results));
            });
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Lexicon = function(callback){
var that = this;
this.defaultGraphOid = 0;
this.defaultGraphUri = &#x22;https://github.com/antoniogarrote/rdfstore-js#default_graph&#x22;;
this.defaultGraphUriTerm = {&#x22;token&#x22;:&#x22;uri&#x22;,&#x22;prefix&#x22;:null,&#x22;suffix&#x22;:null,&#x22;value&#x22;:
this.defaultGraphUri};
this.oidCounter = 1;

async.<span class="apidocCodeKeywordSpan">seq</span>(function(k){
    new Tree(2,function(tree){
        that.uris = tree;
        k();
    })
}, function(k){
    new Tree(2, function(tree){
        that.literals = tree;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.size" id="apidoc.element.rdfstore.utils.size">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>size
        <span class="apidocSignatureSpan">(xs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">size = function (xs) {
    if(xs.length) {
        return xs.length;
    } else {
        var acc = 0;
        for(var p in xs)
            acc++;
        return acc;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else {
        // this group does not need merge for the next iteration
        newGroups[nextGroupId] = groups[nextGroupId];
        newGroupVars[nextGroupId] = groupVars[nextGroupId];
    }
}

if(_.<span class="apidocCodeKeywordSpan">size</span>(toJoin) === 0) {
    // we haven&#x27;t found a single existing group sharing vars
    // with the BGP. We need to create a new group only for this BGP.
    newGroups[&#x27;g&#x27;+groupId] = [bgp];
    newGroupVars[&#x27;g&#x27;+groupId] = &#x22;/&#x22;+(vars.join(&#x22;/&#x22;))+&#x22;/&#x22;;
    groupId++;
} else {
    // We merge all the groups sharing vars with the BGP.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.values" id="apidoc.element.rdfstore.utils.values">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>values
        <span class="apidocSignatureSpan">(xs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">values = function (xs) {
    var acc = [];
    for(var p in xs)
        acc.push(xs[p]);
    return acc;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

/**
* Registers the default namespaces declared in the RDF JS Interfaces
* specification in the default Profile.
*/
Store.prototype.registerDefaultProfileNamespaces = function() {
   var defaultNsMap = this.rdf.prefixes.<span class="apidocCodeKeywordSpan">values</span>();
   for (var p in defaultNsMap) {
	this.registerDefaultNamespace(p,defaultNsMap[p]);
   }
};

/**
* Load triples into a graph in the store. Data can be passed directly to the method
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.whilst" id="apidoc.element.rdfstore.utils.whilst">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>whilst
        <span class="apidocSignatureSpan">(test, iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">whilst = function (test, iterator, callback) {
    if (test()) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            whilst(test, iterator, callback);
        });
    }
    else {
        callback();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      // blank node to quads map.
      // Note: We use a map here and it was generated during step 2.

      // 4) Initialize simple, a boolean flag, to true.
      var simple = true;

      // 5) While simple is true, issue canonical identifiers for blank nodes:
      self.<span class="apidocCodeKeywordSpan">whilst</span>(function() { return simple; }, function(callback) {
// 5.1) Set simple to false.
simple = false;

// 5.2) Clear hash to blank nodes map.
self.hashToBlankNodes = {};

self.waterfall([
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rdfstore.utils.yieldFrequency" id="apidoc.element.rdfstore.utils.yieldFrequency">
        function <span class="apidocSignatureSpan">rdfstore.utils.</span>yieldFrequency
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yieldFrequency = function (value){
    yieldFrequency = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
###Controlling the frequency of function yielding

Performance of the store can be improved by reducing the frequency the &#x27;nexTick&#x27; mechanism is used to cancel the the calls
 stack.
You can reduce this frequency by invoking the `yieldFrequency` function on the Store object and passing a bigger number:

``` javascript
var rdfstore = require(&#x27;rdfstore&#x27;)
rdfstore.Store.<span class="apidocCodeKeywordSpan">yieldFrequency</span>(200); // will only yield after 200 invocations of nextTick

```
If the number is too big a number can produce stack overflow errors during execution. If you find this problem, reduce the value
 provided for `yieldFrequency`.

##Dependencies

The library include dependencies to two semantic-web libraries for
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
